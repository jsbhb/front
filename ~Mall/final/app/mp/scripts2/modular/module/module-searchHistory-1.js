define(["config.page.render"],function(t){"use strict";var e=window.capi.get();return t.extend({tags:{global:"<component-searchhistory-1></component-searchhistory-1>"},region:{global:{cfgDynamic:!0,reqDynamic:!1,resDynamic:!1,beforeFunc:function(t,e){var o=[];$.each(e.response.global,function(t,e){o.push({firstId:e.id,industryName:e.industryName})}),t.response.global.hotSearchList=o}}},config:{global:{showIndex:0}},request:{},response:{},sendArr:["PAGE_NAVIGATION"],reload:!1,".component-searchHistory-content li touchend":function(t){var o=$(t),n=o.text()&&o.text().trim()||"",r=o.attr("firstId")&&o.attr("firstId").trim()||"",i=o.attr("secondId")&&o.attr("secondId").trim()||"",c=o.attr("thirdId")&&o.attr("thirdId").trim()||"";if(!e.jsEvent.touch.touchIsMoved){var a=[],s=JSON.parse(window.localStorage.getItem("historyCache"))||[];$.each(s,function(t,e){a.push(e.goodsName)});var d=$.inArray(n,a);-1!==d&&s.splice(d,1),s.unshift({goodsName:n,firstId:r,secondId:i,thirdId:c}),s.splice(9,s.length-9),window.localStorage.setItem("historyCache",JSON.stringify(s)),window.location.href=encodeURI("/searchProduct.html?goodsName="+n+"&firstCategory="+r+"&secondCategory="+i+"&thirdCategory="+c)}},".component-searchHistory-content .icon_delete touchend":function(){var t=this;t.modules.message.refresh({content:"是否清除所有搜索内容？",DOMClick:!1,cancelBtn:!0,confirmBtn:!0,cancelFun:function(){},confirmFun:function(){window.localStorage.setItem("historyCache",JSON.stringify([])),t.renderData.global.config.attr("historyCache",[])}})}})});