!function(){"use strict";var o=window.app.getApi("jsData"),e=window.app.getApi("jsUtil"),i=window.app.getApi("jsModel"),t=window.app.getApi("jsEvent"),s=o.userInfo.shopId,n=o.userInfo.isLogin,a=o.location.pathUrl,r=o.siteInfo.shopName,p=o.siteInfo.shopAbout,d=o.siteInfo.shopHeadImg,l=o.siteInfo.shopDescribe,c=o.location.pathname.replace(/(\/?[^\/]+\/)*([^\/]+)\.html$/i,"$2"),h=e.url.getParam("itemId"),m=e.url.getParam("pushUserId"),u=e.url.getParam("jumpUrl",1),g={icon_home:!0,title_text:"商品详情",icon_search:!0,icon_shopCart:!0};if(e.url.delParam(["shopId","pushUserId"],"cover"),a=e.path.delParam(a,["shopId","pushUserId"]),"isShoper"!==m&&m&&window.localStorage.setItem("pushUserId",m),"isShoper"===m&&m&&window.localStorage.removeItem("pushUserId"),!c&&!h)return void setTimeout(function(){window.location.href="/index.html"},300);var I={jsData:o,jsUtil:e,jsModel:i,jsEvent:t,shopId:s,isLogin:n,pathUrl:a,jumpUrl:u,backUrl:"",shopName:r,shopAbout:p,shopHeadImg:d,shopDescribe:l,goodsId:c,itemId:h,initList:g,icon_home:!0,title_text:"商品详情",icon_search:!0,icon_shopCart:!0,home:"",nav:"",shoppingCart:"",personalCenter:"",goodsDetail:!0,gradientHide:!0};window.app.setPage=function(o,e){"string"==typeof o&&o.trim()&&(I[o]=e)},window.app.getPage=function(o){return"string"==typeof o&&o.trim()?I[o]:I},wx.ready(function(){s=localStorage.getItem("shopId")||2;var o={};-1==window.location.href.indexOf("?")?o.link=window.location.href+"?shopId="+s:o.link=window.location.href+"&shopId="+s,i.send("GOODS_ID_QUERY",{goodsId:c}).done(function(e){e&&e.success&&e.obj&&(o.title=e.obj[0].customGoodsName,o.desc=e.obj[0].description||e.obj[0].customGoodsName,o.imgUrl=e.obj[0].goodsFileList&&e.obj[0].goodsFileList[0].path||""),wx.onMenuShareAppMessage({title:o.title,desc:o.desc,link:o.link,imgUrl:o.imgUrl,success:function(o){}}),wx.onMenuShareTimeline({title:o.title,link:o.link,imgUrl:o.imgUrl,success:function(o){}})})})}();