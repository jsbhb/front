!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t:t()}(function(){function t(t){var i=this,h=typeof t[0],u="string"===h&&t.shift();return"string"!==h?this:(u?e(a[u])?a[u].reload(u,i,t):a[u]=new s(u,i,t):new s(u,i,t),this)}function s(t,s,a){return this.fn=s,this.name=t,this.func=[],this.param=[],this.cache={},this.delay=this.getData(a,"delay"),this.status=this.getData(a,"status"),this.callback=this.getData(a,"callback"),this.parameter=this.getData(a,"parameter"),"clear"===this.status?{}:this.init()}var a={},i=Array.prototype.slice,e=function(t){var s;for(s in t)return!0;return!1};s.prototype.init=function(){this.setFunc(),this.execute()},s.prototype.reload=function(t,s,a){this.fn=s,this.name=t,this.cache.delay=this.delay,this.cache.status=this.status,this.delay=this.getData(a,"delay"),this.status=this.getData(a,"status"),this.callback=this.getData(a,"callback"),this.parameter=this.getData(a,"parameter"),this.status<=-1||"clear"===this.status?this.cleanup():this.setFunc(),(this.status>=1||"start"===this.status||"loop"===this.status)&&!this.doing&&this.execute()},s.prototype.getData=function(t,s){return"delay"===s?/^\d*$/gi.test(t[0])&&t[0]>=0?t.shift():this.cache.delay||0:"status"===s?/^loop$/gi.test(t[0])?t.shift()||"stop":/^stop$/gi.test(t[0])?t.shift()||"stop":/^start$/gi.test(t[0])?t.shift()||"stop":/^clear$/gi.test(t[0])?t.shift()||"stop":/^-?\d*$/gi.test(t[0])?1*t.shift()||"stop":this.cache.status||"stop":"callback"===s?!t[0]||"function"!=typeof t[0]&&"string"!=typeof t[0]?null:t.shift():"parameter"===s?this.callback?t:[]:void 0},s.prototype.setFunc=function(){if(!this.callback)return null;"function"==typeof this.callback&&(this.func.push(this.callback),this.param.push(this.parameter)),"string"==typeof this.callback&&"function"==typeof this.fn[this.callback]&&(this.func.push(this.callback),this.param.push(this.parameter))},s.prototype.execute=function(){var t=this;if(this.doing=!0,this.id&&clearTimeout(this.id),this.func.length>0&&this.delay>0)this.id=setTimeout(function(){for(var s=0,a=t.func.length;s<a&&"stop"!==t.status&&"clear"!==t.status;s++)t.status>=1&&0===s&&(t.status-=1),"string"==typeof t.func[s]&&t.fn[t.func[s]].apply(t.fn,t.param[s]),"function"==typeof t.func[s]&&t.func[s].apply(t,t.param[s]);t.doing=!1,0===t.func.length&&(t.status="stop"),"start"===t.status&&(t.status="stop"),t.status<=-1&&(t.status="clear"),0===t.status&&(t.status="stop"),t.status>=1&&t.execute(),"loop"===t.status&&t.execute(),"clear"===t.status&&t.cleanup()},this.delay);else{for(var s=0,a=this.func.length;s<a&&"stop"!==this.status&&"clear"!==this.status;s++)this.status>=1&&0===s&&(this.status-=1),"string"==typeof this.func[s]&&this.fn[this.func[s]].apply(this.fn,this.param[s]),"function"==typeof this.func[s]&&this.func[s].apply(this,this.param[s]);this.doing=!1,0===this.func.length&&(this.status="stop"),"start"===this.status&&(this.status="stop"),this.status<=-1&&(this.status="clear"),0===this.status&&(this.status="stop"),this.status>=1&&this.execute(),"loop"===this.status&&this.execute(),"clear"===this.status&&this.cleanup()}},s.prototype.cleanup=function(){this.id&&clearTimeout(this.id),this.name&&delete a[this.name]},$.timeout=$.fn.timeout=function(){return t.call(this,i.call(arguments))}});