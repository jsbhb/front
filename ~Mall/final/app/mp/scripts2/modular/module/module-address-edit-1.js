define(["config.page.render"],function(e){"use strict";return window.capi.get(),e.extend({tags:{global:"<component-address-edit-1></component-address-edit-1>"},region:{global:{reqDynamic:!0,resDynamic:!0,beforeFunc:function(e,n){e.config.global.id&&$.each(n.response.global,function(n,r){r.id==e.config.global.id&&(e.response.global=r)})}}},config:{},request:{},response:{},sendArr:[],reload:!1,".component-address-edit-defaultSetting .btnSet   touchend":function(){var e=this,n=e.renderData.global.response.attr().setDefault;e.renderData.global.response.attr("setDefault",n?0:1)},".component-address-edit-commit                   touchend":function(){var e=this,n=e.element,r=e.renderData.global.config.jumpUrl,t=e.renderData.global.response.attr(),a=e.modules.message;n.find(".receiveName_state").trigger("blur"),n.find(".receivePhone_state").trigger("blur"),n.find(".province_state").trigger("change"),n.find(".city_state").trigger("change"),n.find(".area_state").trigger("change"),n.find(".address_state").trigger("blur"),n.find(".state_error").length>0?a.refresh({content:"请正确填写地址信息！"}):(t.receiveName=n.find("#consignee").val(),t.receivePhone=n.find("#telephone").val(),t.province=n.find("#province").val(),t.city="---- 所在市 ----"===n.find("#city").val()?"":n.find("#city").val(),t.area="---- 所在区 ----"===n.find("#area").val()?"":n.find("#area").val(),t.address=n.find("#address").val(),t.setDefault=t.setDefault?1:0,t.id?e.sendRequest("USER_ADDRESS_UPDATE",t).done(function(n){n.success?e.jsUtil.url.jumpPage(r,-1,!0):n.errorMsg?a.refresh({content:n.errorMsg,confirmBtn:!1}):a.refresh({content:"修改收货地址失败！",confirmBtn:!1})}):e.sendRequest("USER_ADDRESS_CREATE",t).done(function(n){n.success?e.jsUtil.url.jumpPage(r,-1,!0):n.errorMsg?a.refresh({content:n.errorMsg,confirmBtn:!1}):a.refresh({content:"创建收货地址失败！",confirmBtn:!1})}).fail(function(e){e.errorMsg?a.refresh({content:e.errorMsg,confirmBtn:!1}):a.refresh({content:"创建收货地址失败！",confirmBtn:!1})}))}})});