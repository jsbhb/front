!function(){"use strict";var e=window.app.getApi("jsData"),o=window.app.getApi("jsUtil"),n=window.app.getApi("jsModel"),i=window.app.getApi("jsEvent"),t=e.userInfo.userId,r=e.userInfo.shopId,s=e.userInfo.gradeId,p=e.userInfo.centerId,a=e.userInfo.isLogin,l=e.userInfo.welfareVip,d=e.location.pathUrl,f=e.siteInfo.shopName,u=e.siteInfo.shopAbout,c=e.siteInfo.shopHeadImg,w=e.siteInfo.shopDescribe,I=o.url.getParam("jumpUrl",1),h=$.Deferred(),g={info_shop:!1,icon_scan:!0,icon_news:!0,input:!0};if(!a)return void setTimeout(function(){window.location.href="/login.html?jumpUrl="+d},200);l?h.resolve():n.send("USER_INVITERINFO_CHECK",{shopId:r||s,id:t}).done(function(o){o&&o.success&&!0===o.obj?(e.userInfo.welfareVip=!0,window.localStorage.setItem("welfareVip","v:"+r+"-"+t),h.resolve()):(e.userInfo.welfareVip=!1,window.localStorage.removeItem("welfareVip"),window.location.href="/bindInvitation.html?jumpUrl="+d,h.reject())}).fail(function(){setTimeout(function(){window.location.href="/login.html?jumpUrl="+d},200),h.reject()});var m={jsData:e,jsUtil:o,jsModel:n,jsEvent:i,userId:t,shopId:r,gradeId:s,centerId:p,isLogin:a,welfareVip:l,pathUrl:d,jumpUrl:I,backUrl:"",toRender:h,shopName:f,shopAbout:u,shopHeadImg:c,shopDescribe:w,initList:g,icon_scan:!0,icon_news:!0,info_shop:!1,input:!0,home:"active",shoppingCart:" ",personalCenter:" ",gradientHide:!1};window.app.setPage=function(e,o){"string"==typeof e&&e.trim()&&(m[e]=o)},window.app.getPage=function(e){return"string"==typeof e&&e.trim()?m[e]:m}}();