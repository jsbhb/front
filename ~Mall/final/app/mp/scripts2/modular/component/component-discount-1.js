define(["text!modular/template/template-discount-1.mustache"],function(t){"use strict";var e=window.capi.get();return can.Component.extend({tag:"component-discount-1",template:t,helpers:{retrunStatus:function(t,n,r){return e.jsUtil.mustache.getContent(t,"string")===e.jsUtil.mustache.getContent(n,"string")?r.fn(this):r.inverse(this)},returnOrder:function(t,n){var r=e.jsUtil.mustache.getDepContent(t,"object");return $.isEmptyObject(r)?n.inverse(this):n.fn(this)},returnType:function(t,n){var r=e.jsUtil.mustache.getContent(t,"string"),s=e.jsUtil.mustache.getContent(n,"number"),i="discount_1_normal";return"新人券"===r?(0===s&&(i="discount_2_normal normal"),1===s&&(i="discount_2_lose lose")):(0===s&&(i="discount_1_normal normal"),1===s&&(i="discount_1_lose lose")),i},returnPrice:function(t,n){var r=e.jsUtil.mustache.getContent(t,"number");return"1"===e.jsUtil.mustache.getContent(n,"string")?"￥"+r.toFixed(2):r+"折"},returnRegion:function(t){var n=e.jsUtil.mustache.getDepContent(t,"string");return"0"===n?"适用范围：全场通用":"1"===n||"2"===n||"3"===n?"适用范围：部分商品":"适用范围：特定商品"},returnTime:function(t,n){var r=e.jsUtil.mustache.getContent(t,"string"),s=e.jsUtil.mustache.getContent(n,"number");return r&&s?"使用时间："+r+"-"+s:r?"开始时间："+r:s?"截至时间："+s:"使用时间：无期限"},retrunRule:function(t,n,r){return e.jsUtil.mustache.getDepContent(t,"string")===e.jsUtil.mustache.getDepContent(n,"string")?r.fn(this):r.inverse(this)},returnText:function(t){var n=e.jsUtil.mustache.getDepContent(t,"string");return"0"===n?"你好！目前暂无可使用的优惠券！":"1"===n?"你好！目前暂无已使用的优惠券！":void 0},returnInfo:function(t,n,r){var s={},i=e.jsUtil.mustache.getDepContent(t,"object"),o=e.jsUtil.mustache.getDepContent(n,"object");return $.each(i,function(t,e){$.each(e.pool,function(e,n){s[t]=s[t]||[],s[t].push(o[t].pool[n])})}),r.fn(s)},returnSelect:function(t,n,r,s){var i=e.jsUtil.mustache.getDepContent(t,"string"),o=e.jsUtil.mustache.getDepContent(n,"string"),u=e.jsUtil.mustache.getDepContent(r,"object"),c=e.jsUtil.mustache.getDepContent(s,"string");return"superposition"===i?-1!==$.inArray(o,u)?"select":"":"unSuperposition"===i?o===c?"select":"":void 0},returnLose:function(t,n,r,s,i){var o=e.jsUtil.mustache.getDepContent(t,"string"),u=e.jsUtil.mustache.getDepContent(n,"string"),c=e.jsUtil.mustache.getDepContent(r,"object"),a=e.jsUtil.mustache.getDepContent(s,"string"),l=e.jsUtil.mustache.getDepContent(i,"object");if("superposition"===o){if(-1!==$.inArray(u,c))return"";if(-1!==$.inArray(u,Object.keys(l[o].chooseObj)))return"lose"}if("unSuperposition"===o){if(u===a)return"";if(-1!==$.inArray(u,Object.keys(l[o].chooseObj)))return"used";if(a&&"-1"!==a)return"lose"}}},scope:{},events:{inserted:function(t){},removed:function(){}}})});