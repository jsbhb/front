!function(){"use strict";var t={};window.app.setModule=function(e,n){var i=window.app.getPage("jsUtil"),o=window.app.getPage("jsData"),a=window.app.getPage("jsModel"),r=window.app.getPage("jsEvent"),s=(window.app.getPage("userId"),window.app.getPage("shopId")),c=(window.app.getPage("gradeId"),window.app.getPage("centerId"),window.app.getPage("isLogin")),d=(window.app.getPage("welfareVip"),window.app.getPage("pathUrl")),l=window.app.getPage("jumpUrl"),p=window.app.getPage("backUrl"),f=window.app.getPage("toRender"),h=window.app.getPage("siteInfo"),u=window.app.getPage("pageName"),m=window.app.getPage("shopName"),g=window.app.getPage("shopAbout"),y=window.app.getPage("shopHeadImg"),b=window.app.getPage("shopDescribe"),x=window.app.getPage("itemId"),w=window.app.getPage("goodsId"),v=(window.app.getPage("pushUserId"),window.app.getPage("initList")),P=window.app.getPage("text_login"),I=window.app.getPage("icon_back"),M=window.app.getPage("icon_home"),k=window.app.getPage("title_shop"),O=window.app.getPage("title_text"),C=window.app.getPage("input"),S=window.app.getPage("icon_scan"),D=window.app.getPage("icon_news"),_=window.app.getPage("icon_search"),T=window.app.getPage("icon_AddressManage"),j=window.app.getPage("icon_AddressSure"),R=window.app.getPage("icon_shopCartEdit"),F=window.app.getPage("icon_shopCartSave"),E=window.app.getPage("icon_orderList"),Y=window.app.getPage("icon_choose"),B=window.app.getPage("icon_close"),N=window.app.getPage("input_cancel"),L=window.app.getPage("info_shop"),V=window.app.getPage("icon_shopCart"),A=window.app.getPage("home"),U=window.app.getPage("shoppingCart"),H=window.app.getPage("personalCenter"),Q=window.app.getPage("goodsDetail"),z=(window.app.getPage("gradientHide"),[]);$.when(f).done(function(){if(/^nav-1-\d+$/.test(e)&&a.send(["GOODS_NAV_FIRST_QUERY_NODE"],{},!0).done(function(s){var l=$.Deferred(),p=s&&s.data||{},h=function(){var t=0,e=window.innerHeight-186-80,n={};return $.each(p,function(i,o){var a=[];$.each(o.dictList,function(t,e){var n=60;$.each(e.entryList,function(t,e){$.each(e.goods,function(t,e){n+=165})}),a.push(n)}),t=a.length-1,a[t]=a[t]>e?a[t]:e,n[i]={current:0,total:0};for(var r in a)n[i].total+=a[r]||0}),n}(),u=function(){var t=0,e=window.innerHeight-186-80,n={};return $.each(p,function(i,o){var a=0,r=0,s=[],c=[];$.each(o.dictList,function(t,e){var n=60,i=e.id,o=e.dictName;$.each(e.entryList,function(t,e){$.each(e.goods,function(t,e){n+=165})}),c.push({name:o,secondId:i,total:n})}),t=c.length-1,c[t].total=c[t].total>e?c[t].total:e;for(var d in c)s.push({index:a++,name:c[d].name,secondId:c[d].secondId,start:r,end:r+c[d].total}),r+=c[d].total;n[i]=s}),n}(),m=function(){var t={};return $.each(p,function(e,n){$.each(n.dictList,function(e,n){$.each(n.entryList,function(e,n){$.each(n.goods,function(e,n){t[e]={},t[e].detail=$.extend(!0,{},n)})})})}),$.each(t,function(e){var n="",i="",o=0,a=[],r={},s={},c={};$.each(t[e].detail.goodsSpecsList,function(n,i){var d={},l=[],p="";d.infoObj=JSON.parse(i.info||"{}"),d.goodsId=t[e].detail.goodsId,d.goodsName=t[e].detail.customGoodsName,d.firstCategory=t[e].detail.firstCategory,d.secondCategory=t[e].detail.secondCategory,d.thirdCategory=t[e].detail.thirdCategory,d.supplierId=t[e].detail.supplierId,d.supplierName=t[e].detail.supplierName,d.goodsFileObj=$.isArray(t[e].detail.goodsFileList)&&t[e].detail.goodsFileList[0],d.goodsImg=d.goodsFileObj&&d.goodsFileObj.path||"",d.type=t[e].detail.type,d.href=t[e].detail.href,d.freePost=t[e].detail.freePost,d.freeTax=t[e].detail.freeTax,d.info=i.info,d.carton=i.carton,d.itemId=i.itemId,d.itemCode=i.itemCode,d.status=i.status,d.minPrice=i.minPrice,d.maxPrice=i.maxPrice,d.vipMinPrice=i.vipMinPrice,d.vipMaxPrice=i.vipMaxPrice,d.realMinPrice=i.realMinPrice,d.realMaxPrice=i.realMaxPrice,d.realVipMinPrice=i.realVipMinPrice,d.realVipMaxPrice=i.realVipMaxPrice,d.incrementTax=t[e].detail.incrementTax,d.exciseTax=i.exciseTax,d.priceList=i.priceList,d.weight=i.weight,d.stock=i.stock>0?i.stock:0,d.sku=i.sku,d.tagList=[],$.each(i.tagList||[],function(n,i){"预售"===i.tagName&&(d.tagFunId=i.tagFunId,d.preSaleName=i.tagName,d.preSaleDesc=i.description),"一般贸易(包邮)"===i.tagName&&(t[e].isFreePost=!0),d.tagList.push(i)}),$.each(d.infoObj,function(t,e){-1===$.inArray(e,r[t])&&(r[t]=r[t]||[],p=e.replace(";",""),r[t].push(e.replace(";",""))),-1===$.inArray(t,a)&&a.push(t);var n=$.inArray(t,a);l[n]=e});var f=l.join(";");s[f]=d,c[d.itemId]=d.infoObj,o++}),t[e].length=o,t[e].codeArr=a,t[e].itemKey=r,t[e].itemCont=s,t[e].itemIdMap=c,t[e].isFreePost=null,t[e].status=null,t[e].stock=0,t[e].quantity=1,t[e].minQuantity=0,t[e].maxQuantity=1/0,t[e].spcExciseTax=0,t[e].spcIncrementTax=0,t[e].spcCarton="",t[e].spcPrice="0.00",t[e].spcVipPrice="0.00",t[e].spcRealPrice="0.00",t[e].spcRealVipPrice="0.00",t[e].itemContCode="itemHide",t[e].quantityTimer=null,t[e].quantityDes="",t[e].couponList=[],t[e].objArr=[],$.each(t[e].detail.couponList||[],function(o,a){n=a.name.split("/")[0],i=a.name.split("/")[1],i=void 0!==i?i.trim():"",t[e].couponList[o]={type:i,name:n,couponId:a.couponId,receiveStatus:a.receiveStatus}})}),t}(),g=function(){var t={};return $.each(p,function(e,n){$.each(n.dictList,function(e,n){$.each(n.entryList,function(e,n){$.each(n.goods,function(e,n){t[e]=t[e]||{},$.each(n.goodsSpecsList||[],function(n,i){t[e][i.itemId]={}})})})})}),t}(),y=function(t,e,n){var i=0,o={};return h[t].current>=e?n||o:($.each(p,function(n,a){if(t===n){if(i>e)return!1;if(i<=e)var r={};for(var s in a)r[s]="dictList"!==s?a[s]:{};$.each(a.dictList,function(t,a){if(i>e)return!1;if(i<=e){var s={};i+=60}for(var c in a)s[c]="entryList"!==c?a[c]:{};$.each(a.entryList,function(a,c){if(i>e)return!1;if(i<=e)var d={};for(var l in c)d[l]="goods"!==l?c[l]:{};$.each(c.goods,function(c,l){if(i>e)return!1;if(i<=e){var p={};i+=165}for(var f in l)p[f]=l[f];var h=o[n]=o[n]||r,u=h.dictList[t]=h.dictList[t]||s,m=u.entryList[a]=u.entryList[a]||d;m.goods[c]=m.goods[c]||p})})})}}),e&&(h[t].current=e),$.extend(!0,{},o[t]))},b=function(){var t="";for(var e in p){t=e;break}return t},x=function(t){var e="";if(p[t]&&p[t].dictList)for(var n in p[t].dictList){e=n;break}return e},w=function(t,e){var n={},i={},o=[],a=[],r=[],s=[],c=[],d=[],l=[],p=!1;return $.each(t,function(t,e){var n=e.min?e.min:0,i=e.max?e.max:1/0,f=e.price||0===e.price?(1*e.price).toFixed(2):null,h=e.vipPrice||0===e.vipPrice?(1*e.vipPrice).toFixed(2):null,u=f?e.discount?(e.price*e.discount/10).toFixed(2):(1*e.price).toFixed(2):null,m=h?e.discount?(e.vipPrice*e.discount/10).toFixed(2):(1*e.vipPrice).toFixed(2):null;o.push({prices:{price:f,vipPrice:h,realPrice:u,realVipPrice:m},min:n,max:i}),r.push(n),a.push(i),s.push(f),c.push(h),d.push(u),l.push(m),p=!0}),p?(i.min=Math.min.apply(Math,r),i.max=Math.max.apply(Math,a),i.minPrice=Math.min.apply(Math,s),i.vipMinPrice=Math.min.apply(Math,c),i.realMinPrice=Math.min.apply(Math,d),i.realVipMinPrice=Math.min.apply(Math,l),i.maxPrice=Math.max.apply(Math,s),i.vipMaxPrice=Math.max.apply(Math,c),i.realMaxPrice=Math.max.apply(Math,d),i.realVipMaxPrice=Math.max.apply(Math,l),e<i.min?{price:i.maxPrice,vipPrice:i.vipMaxPrice,realPrice:i.realMaxPrice,realVipPrice:i.realVipMaxPrice}:e>i.max?{price:i.minPrice,vipPrice:i.vipMinPrice,realPrice:i.realMinPrice,realVipPrice:i.realVipMinPrice}:($.each(o,function(t,i){if(e>=i.min&&e<=i.max)return n={price:i.prices.price,vipPrice:i.prices.vipPrice,realPrice:i.prices.realPrice,realVipPrice:i.prices.realVipPrice},!1}),n)):{price:null,vipPrice:null,realPrice:null,realVipPrice:null}},v=function(t){var e={},n=[],i=[],o=!1;return $.each(t,function(t,e){var a=1*e.min?1*e.min:0,r=1*e.max?1*e.max:1/0;n.push(r),i.push(a),o=!0}),o?(e.minQuantity=Math.min.apply(Math,i),e.maxQuantity=Math.max.apply(Math,n),e):{minQuantity:0,maxQuantity:1/0}},P=function(t,e,n,i){var o=[],a=[],r=[],s=[],c=[],d=[],l=[],p=[],f=[],h=[],u=[],m=[];$.each(t.objArr,function(g,y){var b=0,x=t.quantity,P=v(y.priceList),I=P.minQuantity,M=P.maxQuantity;f.push(I),h.push(M),t.minQuantity=I,t.maxQuantity=M,"itemHide"!==t.itemContCode&&(x=x>M?M:x,x=x<I?I:x,x=x>y.stock?y.stock:x,x=x>0?x:1,t.spcCarton=y.carton,t.quantity=x);var k=w(y.priceList,x);y.realVipPrice=k.realVipPrice,y.realPrice=k.realPrice,y.vipPrice=k.vipPrice,y.price=k.price,o.push(k.price),a.push(k.vipPrice),r.push(k.realPrice),s.push(k.realVipPrice),u.push(y.incrementTax),m.push(y.exciseTax),f.push(I),h.push(M),"rakeback"===e&&(n=n||0,b=i&&i[y.itemId]||0,y.rakebackRealVipPrice=k.realVipPrice*(1-b*(1-n)),y.rakebackRealPrice=k.realPrice*(1-b*(1-n)),y.rakebackVipPrice=k.vipPrice*(1-b*(1-n)),y.rakebackPrice=k.price*(1-b*(1-n)),c.push(k.price*(1-b*(1-n))),d.push(k.vipPrice*(1-b*(1-n))),l.push(k.realPrice*(1-b*(1-n))),p.push(k.realVipPrice*(1-b*(1-n))))}),0===o.length&&(o[0]=null),0===a.length&&(o[0]=null),0===r.length&&(o[0]=null),0===s.length&&(o[0]=null),0===f.length&&(f[0]=0),0===h.length&&(h[0]=1/0),0===u.length&&(u[0]=0),0===m.length&&(m[0]=0);var g=Math.min.apply(Math,f),y=Math.max.apply(Math,h),b=100*Math.min.apply(Math,m),x=100*Math.max.apply(Math,m),P=100*Math.min.apply(Math,u),I=100*Math.max.apply(Math,u),M=Math.min.apply(Math,o),k=Math.max.apply(Math,o),O=Math.min.apply(Math,a),C=Math.max.apply(Math,a),S=Math.min.apply(Math,r),D=Math.max.apply(Math,r),_=Math.min.apply(Math,s),T=Math.max.apply(Math,s);if(M=(M!==1/0?M:0).toFixed(2),k=(k!==-1/0?k:0).toFixed(2),O=(O!==1/0?O:0).toFixed(2),C=(C!==-1/0?C:0).toFixed(2),S=(S!==1/0?S:0).toFixed(2),D=(D!==-1/0?D:0).toFixed(2),_=(_!==1/0?_:0).toFixed(2),T=(T!==-1/0?T:0).toFixed(2),t.spcPrice=M===k?M:M+"~"+k,t.spcVipPrice=O===C?O:O+"~"+C,t.spcRealPrice=S===D?S:S+"~"+D,t.spcRealVipPrice=_===T?_:_+"~"+T,t.spcExciseTax=b===x?b:b+"~"+x,t.spcIncrementTax=P===I?P:P+"~"+I,t.quantityDes=g&&y&&g!==-1/0&&y!==1/0?"当前允许购买量为: "+g+"~"+y:g&&g!==-1/0?"当前最小购买量为: "+g:y&&y!==1/0?"当前最大购买量为: "+y:"","rakeback"===e){0===c.length&&(c[0]=null),0===d.length&&(d[0]=null),0===l.length&&(l[0]=null),0===p.length&&(p[0]=null);var j=Math.min.apply(Math,c),R=Math.max.apply(Math,c),F=Math.min.apply(Math,d),E=Math.max.apply(Math,d),Y=Math.min.apply(Math,l),B=Math.max.apply(Math,l),N=Math.min.apply(Math,p),L=Math.max.apply(Math,p);j=(j!==1/0?j:0).toFixed(2),R=(R!==-1/0?R:0).toFixed(2),F=(F!==1/0?F:0).toFixed(2),E=(E!==-1/0?E:0).toFixed(2),Y=(Y!==1/0?Y:0).toFixed(2),B=(B!==-1/0?B:0).toFixed(2),N=(N!==1/0?N:0).toFixed(2),L=(L!==-1/0?L:0).toFixed(2),t.rakebackSpcPrice=j===R?j:j+"~"+R,t.rakebackSpcVipPrice=F===E?F:F+"~"+E,t.rakebackSpcRealPrice=Y===B?Y:Y+"~"+B,t.rakebackSpcRealVipPrice=N===L?N:N+"~"+L}},I=function(t,e,n,i,o){var a,r=0,s=[],c={},d=e.codeArr,l=e.itemCont,p=e.objArr=[],h=$.extend(!0,{},e.itemKey);return $.each(h||{},function(e){t[e]||(t[e]="[^;]*")}),$.each(t||{},function(t,e){var n=$.inArray(t,d);-1!==n&&(s[n]=e)}),a=new RegExp("^"+s.join(";")+"$",""),$.each(l,function(n,i){a.test(n)&&(p.push(l[n]),e.itemContCode=n,e.itemContTagList=i.tagList,e.itemContTag={preSaleName:i.preSaleName,preSaleDesc:i.preSaleDesc},e.stock=i.stock>0?i.stock:0,e.status=i.status,r++),$.each(t,function(i){var o,a=[],r=$.extend(!0,{},t);$.each(r||{},function(t,e){var n=$.inArray(t,d);i===t&&(a[n]="[^;]*"),i!==t&&-1!==n&&(a[n]=e)}),o=new RegExp("^"+a.join(";")+"$",""),o.test(n)&&$.each(n.split(";"),function(t,n){if(n){var o=e.codeArr[t];o===i&&(c[o]=c[o]||[],-1===$.inArray(n,c[o])&&c[o].push(n))}})})}),$.each(c,function(t,e){$.each(e,function(e,n){var i=$.inArray(n,h[t]);-1!==i&&h[t].splice(i,1)})}),1!==r?(e.stock=1/0,e.itemContTagList=[],e.itemContCode="itemHide",e.itemContTag=null):0===e.status&&(e.itemContCode="downShelf",f.refresh({confirmBtn:!1,content:"该商品所选规格已下架, 请选择其他规格！"})),P(e,n,i,o),h},M=function(t){var e=$(n),i=window.innerHeight-186-80,o=h[t].total;e.find(".content-bodyer").height(i),e.find(".content-bodyer .bodyer-left").height(i),e.find(".content-bodyer .bodyer-right").height(i),e.find(".content-bodyer .bodyer-right .main").css("min-height",o),e.find(".content-bodyer .bodyer-right .main").css("transition","none"),e.find(".content-bodyer .bodyer-right .main").css("-o-transition","none"),e.find(".content-bodyer .bodyer-right .main").css("-ms-transition","none"),e.find(".content-bodyer .bodyer-right .main").css("-moz-transition","none"),e.find(".content-bodyer .bodyer-right .main").css("-webkit-transition","none"),e.find(".content-bodyer .bodyer-right .main").css("transform","translate3d(0, 0, 0)"),e.find(".content-bodyer .bodyer-right .main").css("-o-transform","translate3d(0, 0, 0)"),e.find(".content-bodyer .bodyer-right .main").css("-ms-transform","translate3d(0, 0, 0)"),e.find(".content-bodyer .bodyer-right .main").css("-moz-transform","translate3d(0, 0, 0)"),e.find(".content-bodyer .bodyer-right .main").css("-webkit-transform","translate3d(0, 0, 0)")},k=function(t,e){var n="";for(var i in p)if(t===i){for(var o in p[i].dictList)if(e===o){n=p[i].dictList[o].dictName;break}break}return n},O=b(),C=x(O);t[e]=new Vue({el:n,data:{bodyerY:0,topX:0,leftY:0,rightY:0,maxTopX:0,maxLeftY:0,maxRightY:0,roller:null,isShowHref:!0,moveDir:0,allowStop:!0,firstId:O,secondId:C,topTitle:"",gradeInfo:null,showData:{},shopName:o.siteInfo.shopName,shopAbout:o.siteInfo.shopAbout,shopHeadImg:o.siteInfo.shopHeadImg},methods:{rollEvent:function(t,e,n,i){var o=this,a=$(o.$el),r=o.firstId,s=u[r];$.each(s,function(r,c){if(-n>=c.start-60&&-n<c.end-60){var d=r>0?r-1:r,l=-n-(c.start-60),p=0;if(i||(l<60?(p=s[d].index,o.topTitle=s[d].name,o.allowStop&&(o.secondId=s[d].secondId),a.find(".bodyer-right > .top").css("transform","translate3d(0, "+-l+"px, 0)"),a.find(".bodyer-right > .top").css("-o-transform","translate3d(0, "+-l+"px, 0)"),a.find(".bodyer-right > .top").css("-ms-transform","translate3d(0, "+-l+"px, 0)"),a.find(".bodyer-right > .top").css("-moz-transform","translate3d(0, "+-l+"px, 0)"),a.find(".bodyer-right > .top").css("-webkit-transform","translate3d(0, "+-l+"px, 0)")):(p=c.index,o.topTitle=c.name,o.allowStop&&(o.secondId=c.secondId),a.find(".bodyer-right > .top").css("transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-o-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-ms-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-moz-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-webkit-transform","translate3d(0, 0, 0)"))),i&&(l<60&&(1===e&&(p=c.index,o.topTitle=c.name,o.allowStop&&(o.secondId=c.secondId),t.css("transition","200ms ease"),t.css("-o-transition","200ms ease"),t.css("-ms-transition","200ms ease"),t.css("-moz-transition","200ms ease"),t.css("-webkit-transition","200ms ease"),t.css("transform","translate3d(0, "+-c.start+"px, 0)"),t.css("-o-transform","translate3d(0, "+-c.start+"px, 0)"),t.css("-ms-transform","translate3d(0, "+-c.start+"px, 0)"),t.css("-moz-transform","translate3d(0, "+-c.start+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+-c.start+"px, 0)"),a.find(".bodyer-right > .top").css("transition","200ms ease"),a.find(".bodyer-right > .top").css("-o-transition","200ms ease"),a.find(".bodyer-right > .top").css("-ms-transition","200ms ease"),a.find(".bodyer-right > .top").css("-moz-transition","200ms ease"),a.find(".bodyer-right > .top").css("-webkit-transition","200ms ease"),a.find(".bodyer-right > .top").css("transform","translate3d(0, -60px, 0)"),a.find(".bodyer-right > .top").css("-o-transform","translate3d(0, -60px, 0)"),a.find(".bodyer-right > .top").css("-ms-transform","translate3d(0, -60px, 0)"),a.find(".bodyer-right > .top").css("-moz-transform","translate3d(0, -60px, 0)"),a.find(".bodyer-right > .top").css("-webkit-transform","translate3d(0, -60px, 0)"),setTimeout(function(){a.find(".bodyer-right > .top").css("transition","none"),a.find(".bodyer-right > .top").css("-o-transition","none"),a.find(".bodyer-right > .top").css("-ms-transition","none"),a.find(".bodyer-right > .top").css("-moz-transition","none"),a.find(".bodyer-right > .top").css("-webkit-transition","none"),a.find(".bodyer-right > .top").css("transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-o-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-ms-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-moz-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-webkit-transform","translate3d(0, 0, 0)")},250)),3===e&&(p=s[d].index,o.topTitle=s[d].name,o.allowStop&&(o.secondId=s[d].secondId),t.css("transition","200ms ease"),t.css("-o-transition","200ms ease"),t.css("-ms-transition","200ms ease"),t.css("-moz-transition","200ms ease"),t.css("-webkit-transition","200ms ease"),t.css("transform","translate3d(0, "+(60-c.start)+"px, 0)"),t.css("-o-transform","translate3d(0, "+(60-c.start)+"px, 0)"),t.css("-ms-transform","translate3d(0, "+(60-c.start)+"px, 0)"),t.css("-moz-transform","translate3d(0, "+(60-c.start)+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+(60-c.start)+"px, 0)"),a.find(".bodyer-right > .top").css("transition","200ms ease"),a.find(".bodyer-right > .top").css("-o-transition","200ms ease"),a.find(".bodyer-right > .top").css("-ms-transition","200ms ease"),a.find(".bodyer-right > .top").css("-moz-transition","200ms ease"),a.find(".bodyer-right > .top").css("-webkit-transition","200ms ease"),a.find(".bodyer-right > .top").css("transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-o-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-ms-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-moz-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-webkit-transform","translate3d(0, 0, 0)"),setTimeout(function(){a.find(".bodyer-right > .top").css("transition","none"),a.find(".bodyer-right > .top").css("-o-transition","none"),a.find(".bodyer-right > .top").css("-ms-transition","none"),a.find(".bodyer-right > .top").css("-moz-transition","none"),a.find(".bodyer-right > .top").css("-webkit-transition","none")},250))),l>=60&&(p=c.index,o.topTitle=c.name,o.allowStop&&(o.secondId=c.secondId),a.find(".bodyer-right > .top").css("transition","none"),a.find(".bodyer-right > .top").css("-o-transition","none"),a.find(".bodyer-right > .top").css("-ms-transition","none"),a.find(".bodyer-right > .top").css("-moz-transition","none"),a.find(".bodyer-right > .top").css("-webkit-transition","none"),a.find(".bodyer-right > .top").css("transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-o-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-ms-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-moz-transform","translate3d(0, 0, 0)"),a.find(".bodyer-right > .top").css("-webkit-transform","translate3d(0, 0, 0)"))),o.allowStop){var f=0,h=a.find(".bodyer-left").height(),u=a.find(".bodyer-left > ul.active").height(),m=u-h>0?u-h:0,g=a.find(".bodyer-left > ul > li").eq(p).position().top;1===e&&90*p>h/2&&g<h/2&&(f=g+90<m?g+90:m,a.find(".bodyer-left > ul.active").css("transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("-o-transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("-ms-transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("-moz-transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("-webkit-transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("transition","200ms ease"),a.find(".bodyer-left > ul.active").css("-o-transition","200ms ease"),a.find(".bodyer-left > ul.active").css("-ms-transition","200ms ease"),a.find(".bodyer-left > ul.active").css("-moz-transition","200ms ease"),a.find(".bodyer-left > ul.active").css("-webkit-transition","200ms ease")),3===e&&90*p<h/2&&g>h/2&&(f=g-90<0?g-90:0,a.find(".bodyer-left > ul.active").css("transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("-o-transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("-ms-transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("-moz-transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("-webkit-transform","translate3d(0, "+-f+"px, 0)"),a.find(".bodyer-left > ul.active").css("transition","200ms ease"),a.find(".bodyer-left > ul.active").css("-o-transition","200ms ease"),a.find(".bodyer-left > ul.active").css("-ms-transition","200ms ease"),a.find(".bodyer-left > ul.active").css("-moz-transition","200ms ease"),a.find(".bodyer-left > ul.active").css("-webkit-transition","200ms ease"))}i&&!o.allowStop&&(o.allowStop=!0)}})},isSingleSpec:function(t){var e=0;if(g[t])for(var n in g[t])e++;return e},getOldPrice:function(t){return I({},m[t]),"￥"+m[t].spcRealPrice},getNewPrice:function(t){var e=this,n="",i=0,o=$.extend(!0,{},g[t]);for(var a in o)o[a]=o[a]||{},e.gradeInfo&&1===e.gradeInfo.welfareType&&(n=e.gradeInfo.gradeType,i=e.gradeInfo.welfareRebate||0),o[a]=1*o[a][n]||0;return I({},m[t],"rakeback",i,o),"￥"+m[t].rakebackSpcRealPrice},addShopCart:function(e){var n=this,i=e||window.event,o=$(i.currentTarget),r=t["footer-1-1"],s=t["message-1-1"],l=o.attr("isSingleSpec"),p=o.attr("goodsId"),f=o.attr("toUrl");if(l>1)f?s.refresh({cancelBtn:!1,confirmBtn:!1,content:"该商品含有多个规格，正前往商品详情页面中！",timeOutFun:function(){window.location.href=f}}):s.refresh({cancelBtn:!1,confirmBtn:!1,content:"抱歉！该商品暂无商详页面！"});else{var h=m[p]||{},u=h.stock||0,g=h.quantity,y=h.minQuantity,b=h.maxQuantity,x=h.itemCont[h.itemContCode]||{},w=function(t){var e=$(r.$el).find(".icon_shoppingCart"),n=o.parents(".item").find(".item-left img"),i=n.clone();i.length&&(i.offset({top:n.offset().top+50,left:n.offset().left+50}).css({opacity:"0.5",position:"absolute",height:"150px",width:"150px","z-index":"99999999"}).appendTo($("body")).animate({top:e.offset().top+20,left:e.offset().left+90,width:50,height:50},1e3,"linear"),i.animate({width:0,height:0},function(){$(this).detach()})),a.send("ORDER_SHOPPINGCART_CREATE",{type:x.type,itemId:x.itemId,supplierId:x.supplierId,supplierName:x.supplierName,goodsName:x.goodsName,goodsImg:x.goodsImg,quantity:t,platformSource:7}).done(function(t){t&&t.success&&a.send("ORDER_SHOPPINGCART_COUNT",{platformSource:7}).done(function(t){t&&t.success&&(r.count=t.obj||0,s.refresh({confirmBtn:!1,content:"添加成功"}))})})};if(setTimeout(function(){n.isShowHref=!0},100),!c)return void s.refresh({content:"您尚未登录，是否先登录！",DOMClick:!1,cancelBtn:!0,confirmBtn:!0,cancelFun:function(){},confirmFun:function(){window.location.href="/login.html?jumpUrl="+d}});a.send("GOODS_STOCK_QUERY",{goodsId:x.goodsId}).done(function(t){if(t&&t.success){var e=t.obj||[];if($.each(e,function(t,e){e.itemId===x.itemId&&(u=e.stock)}),"itemHide"===h.itemContCode)return void s.refresh({confirmBtn:!1,content:"请选择完规格，再加入购物车！"});if("downShelf"===h.itemContCode)return void s.refresh({confirmBtn:!1,content:"该商品所选规格已下架, 无法购买下单！"});if(u<=0||u<y)return void s.refresh({confirmBtn:!1,content:"当前商品库存不足, 无法加入购物车中！"});a.send("ORDER_SHOPPINGCART_COUNT_ID",{itemId:x.itemId,platformSource:7}).done(function(t){if(t&&t.success){var e=t.obj||0;if(e>=b)s.refresh({cancelBtn:!1,confirmBtn:!1,content:"当前该商品在购物车中的数量已达到最大购买量, 无法继续加入购物车中！"});else if(g+e>b){var n=b-e;s.refresh({content:"该商品可允许最大购买量为:"+b+"件; 目前在购物车中已有:"+e+"件, 最多可往购物车中加入"+n+"件! 是否继续？",DOMClick:!1,cancelBtn:!0,confirmBtn:!0,cancelFun:function(){},confirmFun:function(){w(n)}})}else w(g)}})}else s.refresh({cancelBtn:!1,confirmBtn:!1,content:"加入购物车失败"})})}},handleHref:function(t){var e=this,n=t||window.event;$(n.currentTarget).hasClass("shopCart")&&(e.isShowHref=!1)}},beforeCreate:function(){var t=this;a.send(["USER_SHOPINFO_QUERY"],[],!0).done(function(e){var n=e||{};t.shopName=n.name||o.siteInfo.shopName,t.shopAbout=n.aboutus||o.siteInfo.shopAbout,t.shopHeadImg=n.headImg||o.siteInfo.shopHeadImg}),a.send(["GOODS_REBATE_QUERY_REDIS","GRADE_GRADEBO_QUERY_REDIS"],[g],!0).done(function(e){g=$.extend(!0,{},e.GOODS_REBATE_QUERY_REDIS),t.gradeInfo=$.extend(!0,{},e.GRADE_GRADEBO_QUERY_REDIS)}),a.send(["GOODS_NAV_QUERY_NODE"],[],!0).done(function(e){p=e&&e.data||{},h=function(){var t=0,e=window.innerHeight-186-80,n={};return $.each(p,function(i,o){var a=[];$.each(o.dictList,function(t,e){var n=60;$.each(e.entryList,function(t,e){$.each(e.goods,function(t,e){n+=165})}),a.push(n)}),t=a.length-1,a[t]=a[t]>e?a[t]:e,n[i]={current:0,total:0};for(var r in a)n[i].total+=a[r]||0}),n}(),u=function(){var t=0,e=window.innerHeight-186-80,n={};return $.each(p,function(i,o){var a=0,r=0,s=[],c=[];$.each(o.dictList,function(t,e){var n=60,i=e.id,o=e.dictName;$.each(e.entryList,function(t,e){$.each(e.goods,function(t,e){n+=165})}),c.push({name:o,secondId:i,total:n})}),t=c.length-1,c[t].total=c[t].total>e?c[t].total:e;for(var d in c)s.push({index:a++,name:c[d].name,secondId:c[d].secondId,start:r,end:r+c[d].total}),r+=c[d].total;n[i]=s}),n}(),m=function(){var t={};return $.each(p,function(e,n){$.each(n.dictList,function(e,n){$.each(n.entryList,function(e,n){$.each(n.goods,function(e,n){t[e]={},t[e].detail=$.extend(!0,{},n)})})})}),$.each(t,function(e){var n="",i="",o=0,a=[],r={},s={},c={};$.each(t[e].detail.goodsSpecsList,function(n,i){var d={},l=[],p="";d.infoObj=JSON.parse(i.info||"{}"),d.goodsId=t[e].detail.goodsId,d.goodsName=t[e].detail.customGoodsName,d.firstCategory=t[e].detail.firstCategory,d.secondCategory=t[e].detail.secondCategory,d.thirdCategory=t[e].detail.thirdCategory,d.supplierId=t[e].detail.supplierId,d.supplierName=t[e].detail.supplierName,d.goodsFileObj=$.isArray(t[e].detail.goodsFileList)&&t[e].detail.goodsFileList[0],d.goodsImg=d.goodsFileObj&&d.goodsFileObj.path||"",d.type=t[e].detail.type,d.href=t[e].detail.href,d.freePost=t[e].detail.freePost,d.freeTax=t[e].detail.freeTax,d.info=i.info,d.carton=i.carton,d.itemId=i.itemId,d.itemCode=i.itemCode,d.status=i.status,d.minPrice=i.minPrice,d.maxPrice=i.maxPrice,d.vipMinPrice=i.vipMinPrice,d.vipMaxPrice=i.vipMaxPrice,d.realMinPrice=i.realMinPrice,d.realMaxPrice=i.realMaxPrice,d.realVipMinPrice=i.realVipMinPrice,d.realVipMaxPrice=i.realVipMaxPrice,d.incrementTax=t[e].detail.incrementTax,d.exciseTax=i.exciseTax,d.priceList=i.priceList,d.weight=i.weight,d.stock=i.stock>0?i.stock:0,d.sku=i.sku,d.tagList=[],$.each(i.tagList||[],function(n,i){"预售"===i.tagName&&(d.tagFunId=i.tagFunId,d.preSaleName=i.tagName,d.preSaleDesc=i.description),"一般贸易(包邮)"===i.tagName&&(t[e].isFreePost=!0),d.tagList.push(i)}),$.each(d.infoObj,function(t,e){-1===$.inArray(e,r[t])&&(r[t]=r[t]||[],p=e.replace(";",""),r[t].push(e.replace(";",""))),-1===$.inArray(t,a)&&a.push(t);var n=$.inArray(t,a);l[n]=e});var f=l.join(";");s[f]=d,c[d.itemId]=d.infoObj,o++}),t[e].length=o,t[e].codeArr=a,t[e].itemKey=r,t[e].itemCont=s,t[e].itemIdMap=c,t[e].isFreePost=null,t[e].status=null,t[e].stock=0,t[e].quantity=1,t[e].minQuantity=0,t[e].maxQuantity=1/0,t[e].spcExciseTax=0,t[e].spcIncrementTax=0,t[e].spcCarton="",t[e].spcPrice="0.00",t[e].spcVipPrice="0.00",t[e].spcRealPrice="0.00",t[e].spcRealVipPrice="0.00",t[e].itemContCode="itemHide",t[e].quantityTimer=null,t[e].quantityDes="",t[e].couponList=[],t[e].objArr=[],$.each(t[e].detail.couponList||[],function(o,a){n=a.name.split("/")[0],i=a.name.split("/")[1],i=void 0!==i?i.trim():"",t[e].couponList[o]={type:i,name:n,couponId:a.couponId,receiveStatus:a.receiveStatus}})}),t}(),g=function(){var t={};return $.each(p,function(e,n){$.each(n.dictList,function(e,n){$.each(n.entryList,function(e,n){$.each(n.goods,function(e,n){t[e]=t[e]||{},$.each(n.goodsSpecsList||[],function(n,i){t[e][i.itemId]={}})})})})}),t}(),a.send(["GOODS_REBATE_QUERY_REDIS","GRADE_GRADEBO_QUERY_REDIS"],[g],!0).done(function(e){g=$.extend(!0,{},e.GOODS_REBATE_QUERY_REDIS),t.gradeInfo=$.extend(!0,{},e.GRADE_GRADEBO_QUERY_REDIS)}),l.resolve()})},created:function(){},mounted:function(){var e=this,n=$(e.$el);e.firstId=b(),e.secondId=x(e.firstId),e.topTitle=k(e.firstId,e.secondId),e.showData=y(e.firstId,3e3),e.$nextTick(function(){M(e.firstId)}),$("#body-header").on("touchmove",function(){return!1}),$("#body-center").on("touchmove",function(){return!1}),$("#body-footer").on("touchmove",function(){return!1}),n.find(".content-bodyer .bodyer-top > ul").on("touchstart",function(){if(e.allowStop){var t=n.find(".content-bodyer").css("transform"),i=n.find(".bodyer-top > ul").css("transform"),o=t&&t.replace(/[^0-9\-.,]/g,"").split(",")||[],a=i&&i.replace(/[^0-9\-.,]/g,"").split(",")||[],r=$(this).width()-$(this).parent().width();e.roller&&e.roller.stop(!0),e.maxTopX=r>0?r:0,e.bodyerY=1*o[5]||0,e.topX=1*a[4]||0,e.moveDir=0,n.find(".content-bodyer").css("transition","none"),n.find(".content-bodyer").css("-o-transition","none"),n.find(".content-bodyer").css("-ms-transition","none"),n.find(".content-bodyer").css("-moz-transition","none"),n.find(".content-bodyer").css("-webkit-transition","none"),n.find(".bodyer-top > ul").css("transition","none"),n.find(".bodyer-top > ul").css("-o-transition","none"),n.find(".bodyer-top > ul").css("-ms-transition","none"),n.find(".bodyer-top > ul").css("-moz-transition","none"),n.find(".bodyer-top > ul").css("-webkit-transition","none")}}),n.find(".content-bodyer .bodyer-top > ul").on("touchmove",function(){if(e.allowStop){var t=0,i=0,o=r.touch,a=Math.abs(r.touch.touchSX),s=Math.abs(r.touch.touchSY);e.moveDir||(a>s+50&&(e.moveDir="h"),s>a+50&&(e.moveDir="v")),"h"===e.moveDir&&(2===o.touchSDir&&(t=e.topX+a,t=t<150?t:150,n.find(".content-bodyer .bodyer-top > ul").css("transform","translate3d("+t+"px, 0, 0)"),n.find(".content-bodyer .bodyer-top > ul").css("transform","-o-translate3d("+t+"px, 0, 0)"),n.find(".content-bodyer .bodyer-top > ul").css("transform","-ms-translate3d("+t+"px, 0, 0)"),n.find(".content-bodyer .bodyer-top > ul").css("transform","-moz-translate3d("+t+"px, 0, 0)"),n.find(".content-bodyer .bodyer-top > ul").css("transform","-webkit-translate3d("+t+"px, 0, 0)")),4===o.touchSDir&&(t=e.topX-a,t=t>-e.maxTopX-150?t:-e.maxTopX-150,n.find(".content-bodyer .bodyer-top > ul").css("transform","translate3d("+t+"px, 0, 0)"),n.find(".content-bodyer .bodyer-top > ul").css("transform","-o-translate3d("+t+"px, 0, 0)"),n.find(".content-bodyer .bodyer-top > ul").css("transform","-ms-translate3d("+t+"px, 0, 0)"),n.find(".content-bodyer .bodyer-top > ul").css("transform","-moz-translate3d("+t+"px, 0, 0)"),n.find(".content-bodyer .bodyer-top > ul").css("transform","-webkit-translate3d("+t+"px, 0, 0)"))),"v"===e.moveDir&&(1===o.touchSDir&&(i=e.bodyerY-s,i=i>-220?i:-220,n.find(".content-bodyer").css("transform","translate3d(0, "+i+"px, 0)"),n.find(".content-bodyer").css("-o-transform","translate3d(0, "+i+"px, 0)"),n.find(".content-bodyer").css("-ms-transform","translate3d(0, "+i+"px, 0)"),n.find(".content-bodyer").css("-moz-transform","translate3d(0, "+i+"px, 0)"),n.find(".content-bodyer").css("-webkit-transform","translate3d(0, "+i+"px, 0)")),3===o.touchSDir&&(i=e.bodyerY+s,i=i<0?i:0,n.find(".content-bodyer").css("transform","translate3d(0, "+i+"px, 0)"),n.find(".content-bodyer").css("-o-transform","translate3d(0, "+i+"px, 0)"),n.find(".content-bodyer").css("-ms-transform","translate3d(0, "+i+"px, 0)"),n.find(".content-bodyer").css("-moz-transform","translate3d(0, "+i+"px, 0)"),n.find(".content-bodyer").css("-webkit-transform","translate3d(0, "+i+"px, 0)")))}}),n.find(".content-bodyer .bodyer-top > ul").on("touchend",function(){if(e.allowStop){var t,o,a,s,c,d,l,p=r.touch,f=n.find(".content-bodyer").css("transform"),h=n.find(".bodyer-top > ul").css("transform"),u=f&&f.replace(/[^0-9\-.,]/g,"").split(",")||[],m=h&&h.replace(/[^0-9\-.,]/g,"").split(",")||[],g=$(this).width()-$(this).parent().width();e.maxTopX=g>0?g:0,e.bodyerY=1*u[5]||0,e.topX=1*m[4]||0,r.touch.touchIsMoved&&("h"===e.moveDir&&(t=n.find(".content-bodyer .bodyer-top > ul"),o=Math.abs(p.touchTX-p.touchCache.touchTX),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.topX,2===p.touchMXDir&&(d=c+s*l,d=d<0?d:0,l=l<800?l:800),4===p.touchMXDir&&(d=c-s*l,d=d>-e.maxTopX?d:-e.maxTopX,l=l<800?l:800),e.roller=i.animation(c,d,l,"sineEaseOut",function(e){t.css("transform","translate3d("+e+"px, 0, 0)"),t.css("-o-transform","translate3d("+e+"px, 0, 0)"),
t.css("-ms-transform","translate3d("+e+"px, 0, 0)"),t.css("-moz-transform","translate3d("+e+"px, 0, 0)"),t.css("-webkit-transform","translate3d("+e+"px, 0, 0)")})),"v"===e.moveDir&&(t=n.find(".content-bodyer"),o=Math.abs(p.touchTY-p.touchCache.touchTY),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.bodyerY,3===p.touchMYDir&&(d=0,l=l<800?l:800),1===p.touchMYDir&&(d=-220,l=l<800?l:800),e.roller=i.animation(c,d,l,"sineEaseOut",function(e){t.css("transform","translate3d(0, "+e+"px, 0)"),t.css("-o-transform","translate3d(0, "+e+"px, 0)"),t.css("-ms-transform","translate3d(0, "+e+"px, 0)"),t.css("-moz-transform","translate3d(0, "+e+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+e+"px, 0)")})))}}),n.find(".content-bodyer .bodyer-right").on("touchstart",function(){if(e.allowStop){var t=n.find(".content-bodyer").css("transform"),i=n.find(".bodyer-right > .main").css("transform"),o=t&&t.replace(/[^0-9\-.,]/g,"").split(",")||[],a=i&&i.replace(/[^0-9\-.,]/g,"").split(",")||[],r=$(this).find(">.main").height()-$(this).height();e.roller&&e.roller.stop(!0),e.maxRightY=r>0?r:0,e.bodyerY=1*o[5]||0,e.rightY=1*a[5]||0,n.find(".content-bodyer").css("transition","none"),n.find(".content-bodyer").css("-o-transition","none"),n.find(".content-bodyer").css("-ms-transition","none"),n.find(".content-bodyer").css("-moz-transition","none"),n.find(".content-bodyer").css("-webkit-transition","none"),n.find(".bodyer-right > .main").css("transition","none"),n.find(".bodyer-right > .main").css("-o-transition","none"),n.find(".bodyer-right > .main").css("-ms-transition","none"),n.find(".bodyer-right > .main").css("-moz-transition","none"),n.find(".bodyer-right > .main").css("-webkit-transition","none")}}),n.find(".content-bodyer .bodyer-right").on("touchmove",function(){if(e.allowStop){var t=0,i=0,o=0,a=r.touch,s=Math.abs(r.touch.touchSY);1===a.touchSDir&&(e.bodyerY>-220&&(i=e.bodyerY-s,t=Math.abs(i>-220?0:i+220),i=i>-220?i:-220,n.find(".content-bodyer").css("transform","translate3d(0, "+i+"px, 0)"),t&&(o=e.rightY-t,o=o>-e.maxRightY?o:-e.maxRightY,n.find(".content-bodyer .main").css("transform","translate3d(0, "+o+"px, 0)"),e.rollEvent(n.find(".content-bodyer .main"),a.touchMDir,o),e.showData=y(e.firstId,Math.abs(o)+1e3,e.showData))),e.bodyerY<=-220&&(o=e.rightY-s,o=o>-e.maxRightY?o:-e.maxRightY,n.find(".content-bodyer .main").css("transform","translate3d(0, "+o+"px, 0)"),e.rollEvent(n.find(".content-bodyer .main"),a.touchMDir,o),e.showData=y(e.firstId,Math.abs(o)+1e3,e.showData))),3===a.touchSDir&&(e.rightY<0&&(o=e.rightY+s,t=Math.abs(o<0?0:o),o=o<0?o:0,n.find(".content-bodyer .main").css("transform","translate3d(0, "+o+"px, 0)"),e.rollEvent(n.find(".content-bodyer .main"),a.touchMDir,o),t&&(i=e.bodyerY+t,i=i<0?i:0,n.find(".content-bodyer").css("transform","translate3d(0, "+i+"px, 0)"))),e.rightY>=0&&(i=e.bodyerY+s,i=i<0?i:0,n.find(".content-bodyer").css("transform","translate3d(0, "+i+"px, 0)"),e.rollEvent(n.find(".content-bodyer .main"),a.touchMDir,o)))}}),n.find(".content-bodyer .bodyer-right").on("touchend",function(){if(e.allowStop){var t,o,a,s,c,d,l,p=r.touch,f=n.find(".content-bodyer").css("transform"),h=n.find(".bodyer-right > .main").css("transform"),u=f&&f.replace(/[^0-9\-.,]/g,"").split(",")||[],m=h&&h.replace(/[^0-9\-.,]/g,"").split(",")||[],g=$(this).find(">.main").height()-$(this).height();e.maxRightY=g>0?g:0,e.bodyerY=1*u[5]||0,e.rightY=1*m[5]||0,r.touch.touchIsMoved&&(1===p.touchMDir&&(e.bodyerY>-220&&(t=n.find(".content-bodyer"),o=Math.abs(p.touchTY-p.touchCache.touchTY),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.bodyerY,d=-220,l=l<800?l:800,e.roller=i.animation(c,d,l,"sineEaseOut",function(e){t.css("transform","translate3d(0, "+e+"px, 0)"),t.css("-o-transform","translate3d(0, "+e+"px, 0)"),t.css("-ms-transform","translate3d(0, "+e+"px, 0)"),t.css("-moz-transform","translate3d(0, "+e+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+e+"px, 0)")})),e.bodyerY<=-220&&(t=n.find(".content-bodyer .main"),o=Math.abs(p.touchTY-p.touchCache.touchTY),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.rightY,d=c-s*l,d=d>-e.maxRightY?d:-e.maxRightY,l=l<800?l:800,e.roller=i.animation(c,d,l,"sineEaseOut",function(n,i){t.css("transform","translate3d(0, "+n+"px, 0)"),t.css("-o-transform","translate3d(0, "+n+"px, 0)"),t.css("-ms-transform","translate3d(0, "+n+"px, 0)"),t.css("-moz-transform","translate3d(0, "+n+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+n+"px, 0)"),e.rollEvent(t,1,n,i)}),e.showData=y(e.firstId,Math.abs(d)+1e3,e.showData))),3===p.touchMDir&&(e.rightY<=0&&(t=n.find(".content-bodyer .main"),o=Math.abs(p.touchTY-p.touchCache.touchTY),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.rightY,d=c+s*l,d=d<0?d:0,l=l<800?l:800,e.roller=i.animation(c,d,l,"sineEaseOut",function(n,i){t.css("transform","translate3d(0, "+n+"px, 0)"),t.css("-o-transform","translate3d(0, "+n+"px, 0)"),t.css("-ms-transform","translate3d(0, "+n+"px, 0)"),t.css("-moz-transform","translate3d(0, "+n+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+n+"px, 0)"),e.rollEvent(t,3,n,i)})),e.rightY>0&&(t=n.find(".content-bodyer"),o=Math.abs(p.touchTY-p.touchCache.touchTY),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.bodyerY,d=0,l=l<800?l:800,e.roller=i.animation(c,d,l,"sineEaseOut",function(e){t.css("transform","translate3d(0, "+e+"px, 0)"),t.css("-o-transform","translate3d(0, "+e+"px, 0)"),t.css("-ms-transform","translate3d(0, "+e+"px, 0)"),t.css("-moz-transform","translate3d(0, "+e+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+e+"px, 0)")}))))}}),n.find(".content-bodyer .bodyer-left").on("touchstart",function(){if(e.allowStop){var t=n.find(".content-bodyer").css("transform"),i=n.find(".bodyer-left > ul.active").css("transform"),o=t&&t.replace(/[^0-9\-.,]/g,"").split(",")||[],a=i&&i.replace(/[^0-9\-.,]/g,"").split(",")||[],r=$(this).find(">ul.active").height()-$(this).height();e.roller&&e.roller.stop(!0),e.maxLeftY=r>0?r:0,e.bodyerY=1*o[5]||0,e.leftY=1*a[5]||0,n.find(".content-bodyer").css("transition","none"),n.find(".content-bodyer").css("-o-transition","none"),n.find(".content-bodyer").css("-ms-transition","none"),n.find(".content-bodyer").css("-moz-transition","none"),n.find(".content-bodyer").css("-webkit-transition","none"),n.find(".bodyer-left > ul.active").css("transition","none"),n.find(".bodyer-left > ul.active").css("transition","none"),n.find(".bodyer-left > ul.active").css("-o-transition","none"),n.find(".bodyer-left > ul.active").css("-ms-transition","none"),n.find(".bodyer-left > ul.active").css("-moz-transition","none"),n.find(".bodyer-left > ul.active").css("-webkit-transition","none")}}),n.find(".content-bodyer .bodyer-left").on("touchmove",function(){if(e.allowStop){var t=0,i=0,o=0,a=r.touch,s=Math.abs(r.touch.touchSY);1===a.touchSDir&&(e.bodyerY>-220&&(i=e.bodyerY-s,t=Math.abs(i>-220?0:i+220),i=i>-220?i:-220,n.find(".content-bodyer").css("transform","translate3d(0, "+i+"px, 0)"),t&&(o=e.leftY-t,o=o>-e.maxLeftY?o:-e.maxLeftY,n.find(".bodyer-left > ul.active").css("transform","translate3d(0, "+o+"px, 0)"))),e.bodyerY<=-220&&(o=e.leftY-s,o=o>-e.maxLeftY?o:-e.maxLeftY,n.find(".bodyer-left > ul.active").css("transform","translate3d(0, "+o+"px, 0)"))),3===a.touchSDir&&(e.leftY<0&&(o=e.leftY+s,t=Math.abs(o<0?0:o),o=o<0?o:0,n.find(".bodyer-left > ul.active").css("transform","translate3d(0, "+o+"px, 0)"),t&&(i=e.bodyerY+t,i=i<0?i:0,n.find(".content-bodyer").css("transform","translate3d(0, "+i+"px, 0)"))),e.leftY>=0&&(i=e.bodyerY+s,i=i<0?i:0,n.find(".content-bodyer").css("transform","translate3d(0, "+i+"px, 0)")))}}),n.find(".content-bodyer .bodyer-left").on("touchend",function(){if(e.allowStop){var t,o,a,s,c,d,l,p=r.touch,f=n.find(".content-bodyer").css("transform"),h=n.find(".bodyer-left > ul.active").css("transform"),u=n.find(".bodyer-right > .main").css("transform"),m=f&&f.replace(/[^0-9\-.,]/g,"").split(",")||[],g=h&&h.replace(/[^0-9\-.,]/g,"").split(",")||[],y=u&&u.replace(/[^0-9\-.,]/g,"").split(",")||[],b=$(this).find(">ul.active").height()-$(this).height();e.maxLeftY=b>0?b:0,e.bodyerY=1*m[5]||0,e.leftY=1*g[5]||0,e.rightY=1*y[5]||0,r.touch.touchIsMoved&&(1===p.touchMDir&&(e.bodyerY>-220&&(t=n.find(".content-bodyer"),o=Math.abs(p.touchTY-p.touchCache.touchTY),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.bodyerY,d=-220,l=l<800?l:800,e.roller=i.animation(c,d,l,"sineEaseOut",function(e){t.css("transform","translate3d(0, "+e+"px, 0)"),t.css("-o-transform","translate3d(0, "+e+"px, 0)"),t.css("-ms-transform","translate3d(0, "+e+"px, 0)"),t.css("-moz-transform","translate3d(0, "+e+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+e+"px, 0)")})),e.bodyerY<=-220&&(t=n.find(".bodyer-left > ul.active"),o=Math.abs(p.touchTY-p.touchCache.touchTY),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.leftY,d=c-s*l,d=d>-e.maxLeftY?d:-e.maxLeftY,l=l<800?l:800,e.roller=i.animation(c,d,l,"sineEaseOut",function(n,i){t.css("transform","translate3d(0, "+n+"px, 0)"),t.css("-o-transform","translate3d(0, "+n+"px, 0)"),t.css("-ms-transform","translate3d(0, "+n+"px, 0)"),t.css("-moz-transform","translate3d(0, "+n+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+n+"px, 0)"),e.rollEvent(t,1,e.rightY,i)}))),3===p.touchMDir&&(e.leftY<=0&&(t=n.find(".bodyer-left > ul.active"),o=Math.abs(p.touchTY-p.touchCache.touchTY),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.leftY,d=c+s*l,d=d<0?d:0,l=l<800?l:800,e.roller=i.animation(c,d,l,"sineEaseOut",function(n,i){t.css("transform","translate3d(0, "+n+"px, 0)"),t.css("-o-transform","translate3d(0, "+n+"px, 0)"),t.css("-ms-transform","translate3d(0, "+n+"px, 0)"),t.css("-moz-transform","translate3d(0, "+n+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+n+"px, 0)"),e.rollEvent(t,1,e.rightY,i)})),e.leftY>0&&(t=n.find(".content-bodyer"),o=Math.abs(p.touchTY-p.touchCache.touchTY),a=Math.abs(p.touchTime-p.touchCache.touchTime),s=o/a,l=s/.008,c=e.bodyerY,d=0,l=l<800?l:800,e.roller=i.animation(c,d,l,"sineEaseOut",function(e){t.css("transform","translate3d(0, "+e+"px, 0)"),t.css("-o-transform","translate3d(0, "+e+"px, 0)"),t.css("-ms-transform","translate3d(0, "+e+"px, 0)"),t.css("-moz-transform","translate3d(0, "+e+"px, 0)"),t.css("-webkit-transform","translate3d(0, "+e+"px, 0)")}))))}}),n.find(".content-bodyer .bodyer-top").on("touchstart","[firstId]",function(){e.allowStop||(e.allowStop=!0),e.roller&&setTimeout(function(){e.roller.stop(!0)},20)}),n.find(".content-bodyer .bodyer-top").on("touchend","[firstId]",function(){var n=null,i=(t["message-1-1"],$(this).attr("firstId"));e.firstId===i||r.touch.touchIsMoved||(e.showData={},e.topTitle="",e.firstId=i,n=function(){h[i].current=0,e.secondId=x(e.firstId),e.topTitle=k(e.firstId,e.secondId),e.$nextTick(function(){M(e.firstId)}),e.showData=y(e.firstId,3e3,{})},"pending"===l.state()&&$.when(l).done(function(){n&&n(),n=null}),"pending"!==l.state()&&(n&&n(),n=null))}),n.find(".content-bodyer .bodyer-left").on("touchstart","[secondId]",function(){$(this).hasClass("active")||(e.allowStop||(e.allowStop=!0),e.roller&&e.roller.stop(!0))}),n.find(".content-bodyer .bodyer-left").on("touchend","[secondId]",function(){var t=null,n=$(e.$el),o=$(this).attr("firstId"),a=$(this).attr("secondId"),s=u[o];e.secondId===a||r.touch.touchIsMoved||(t=function(){var t=n.find(".content-bodyer").css("transform"),o=n.find(".bodyer-right > .main").css("transform"),r=t&&t.replace(/[^0-9\-.,]/g,"").split(",")||[],c=o&&o.replace(/[^0-9\-.,]/g,"").split(",")||[];e.bodyerY=1*r[5]||0,e.rightY=1*c[5]||0,e.secondId=a,e.allowStop=!1,$.each(s,function(t,o){if(a===o.secondId){var r=e.bodyerY,s=e.rightY,c=-o.start,d=o.end,l=c-s<0?1:c-s>0?3:0;e.roller=i.animation(r,-220,200,"sineEaseInOut",function(t){n.find(".content-bodyer").css("transform","translate3d(0, "+t+"px, 0)"),n.find(".content-bodyer").css("-o-transform","translate3d(0, "+t+"px, 0)"),n.find(".content-bodyer").css("-ms-transform","translate3d(0, "+t+"px, 0)"),n.find(".content-bodyer").css("-moz-transform","translate3d(0, "+t+"px, 0)"),n.find(".content-bodyer").css("-webkit-transform","translate3d(0, "+t+"px, 0)")}),e.roller=i.animation(s,c,800,"sineEaseInOut",function(t,i){n.find(".bodyer-right > .main").css("transform","translate3d(0, "+t+"px, 0)"),n.find(".bodyer-right > .main").css("-o-transform","translate3d(0, "+t+"px, 0)"),n.find(".bodyer-right > .main").css("-ms-transform","translate3d(0, "+t+"px, 0)"),n.find(".bodyer-right > .main").css("-moz-transform","translate3d(0, "+t+"px, 0)"),n.find(".bodyer-right > .main").css("-webkit-transform","translate3d(0, "+t+"px, 0)"),e.rollEvent(n.find(".bodyer-right > .main"),l,t,i)}),e.showData=y(e.firstId,d,e.showData)}})},"pending"===l.state()&&$.when(l).done(function(){t&&t(),t=null}),"pending"!==l.state()&&(t&&t(),t=null))})}})}),/^error-1-\d+$/.test(e)&&(t[e]=new Vue({el:n,data:{},methods:{},created:function(){$("body").css("background-color","#f6f7f9")},mounted:function(){var t=$("#body-center").css("height");$(n).css("height",t)}})),/^message-1-\d+$/.test(e)&&(t[e]=new Vue({el:n,data:{time:0,type:"info",language:"zh",content:null,DOMClick:!1,cancelBtn:!1,confirmBtn:!0,cancelFun:function(){},confirmFun:function(){},timeOutFun:function(){},isShowing:!1},computed:{typeClass:function(){return this.type?"icon_"+this.type:"icon_info"},getHeaderText:function(){var t="";if("en"===this.language)switch(this.type){case"success":t="Success";break;case"error":t="Error";break;case"warning":t="Warning";break;default:t="Information"}else switch(this.type){case"success":t="成功";break;case"error":t="失败";break;case"warning":t="警告";break;default:t="提示"}return t}},methods:{refresh:function(t){this.isShowing||(this.time=void 0!==t.time?t.time:0,this.type=void 0!==t.type?t.type:"info",this.language=void 0!==t.language?t.language:"zh",this.content=void 0!==t.content?t.content:"",this.DOMClick=void 0!==t.DOMClick&&t.DOMClick,this.cancelBtn=void 0!==t.cancelBtn&&t.cancelBtn,this.confirmBtn=void 0!==t.confirmBtn&&t.confirmBtn,this.cancelFun=void 0!==t.cancelFun?t.cancelFun:function(){},this.confirmFun=void 0!==t.confirmFun?t.confirmFun:function(){},this.timeOutFun=void 0!==t.timeOutFun?t.timeOutFun:function(){})}},watch:{content:function(){var t=this,e=$(t.$el);t.$nextTick(function(){t.content&&!1!==t.confirmBtn?(t.isShowing=!0,e.css({opacity:0}),e.animate({opacity:1},500,"linear",function(){t.isShowing=!1})):t.content&&(t.isShowing=!0,e.css({opacity:0}),e.stop(!0).animate({opacity:1},360,function(){setTimeout(function(){e.animate({opacity:0},600,function(){t.timeOutFun(),t.time=0,t.type="info",t.language="zh",t.content=null,t.DOMClick=!1,t.cancelBtn=!1,t.confirmBtn=!0,t.cancelFun=function(){},t.confirmFun=function(){},t.timeOutFun=function(){},t.isShowing=!1})},t.time||2e3)}))})}},mounted:function(){var t=this,e=$(t.$el);$(document).on("touchend",function(n){var i=n||window.event,o=$(i.target||i.srcElement),a=o.filter(".message-1-content").length>0,r=o.parents(".message-1-content").length>0,s=!1!==t.confirmBtn,c=!1!==t.DOMClick;!a&&!r&&s&&c&&e.animate({opacity:0},600,function(){t.cancelBtn?t.cancelFun():t.confirmFun(),t.time=0,t.type="info",t.language="zh",t.content=null,t.DOMClick=!1,t.cancelBtn=!1,t.confirmBtn=!0,t.cancelFun=function(){},t.confirmFun=function(){},t.timeOutFun=function(){},t.isShowing=!1})}),e.on("touchend",".message-footer .btn_confirm",function(){e.animate({opacity:0},600,function(){t.confirmFun(),t.time=0,t.type="info",t.language="zh",t.content=null,t.DOMClick=!1,t.cancelBtn=!1,t.confirmBtn=!0,t.cancelFun=function(){},t.confirmFun=function(){},t.timeOutFun=function(){},t.isShowing=!1})}),e.on("touchend",".message-footer .btn_cancel",function(){e.animate({opacity:0},600,function(){t.cancelFun(),t.time=0,t.type="info",t.language="zh",t.content=null,t.DOMClick=!1,t.cancelBtn=!1,t.confirmBtn=!0,t.cancelFun=function(){},t.confirmFun=function(){},t.timeOutFun=function(){},t.isShowing=!1})})}})),/^alertDiscount-1-\d+$/.test(e)&&(z=c?["COUPON_NODE_QUERY"]:[],a.send(z,{node:1},!0).done(function(i){var o=t["message-1-1"],r=$.isArray(i)&&i.length>0,s=r?i[0]:{};t[e]=new Vue({el:n,data:{isShow:window.localStorage.getItem("alertDiscount")&&r},computed:{},methods:{},mounted:function(){var t=this,e=$(t.$el);e.on("touchend",".alertDiscount-show .msg-btn",function(){a.send("COUPON_RECEIVE",{couponId:s.couponId}).done(function(e){e.success?(o.refresh({content:"领取成功！是否跳转到我的优惠券？",DOMClick:!1,cancelBtn:!0,confirmBtn:!0,cancelFun:function(){},confirmFun:function(){window.location.href="/discount.html?jumpUrl=/personal-center.html"}}),t.isShow=!1,window.localStorage.removeItem("alertDiscount")):(o.refresh({cancelBtn:!1,confirmBtn:!1,content:e&&e.errorMsg||"领取失败！"}),t.isShow=!1,window.localStorage.removeItem("alertDiscount"))}).fail(function(){o.refresh({cancelBtn:!1,confirmBtn:!1,content:"领取失败！"}),t.isShow=!1,window.localStorage.removeItem("alertDiscount")})}),e.on("touchend",".alertDiscount-show .cancel-btn",function(){e.animate({opacity:0},600,function(){t.isShow=!1,e.css("opacity",1),window.localStorage.removeItem("alertDiscount")})})}})})),/^header-1-\d+$/.test(e)&&(s&&z.push("USER_SHOPINFO_QUERY"),c&&z.push("ORDER_SHOPPINGCART_COUNT"),t[e]=new Vue({el:n,data:{title:"",searchCont:"",historyCache:[],text_login:P,icon_back:I,icon_home:M,title_shop:k,title_text:O,input:C,icon_scan:S,icon_news:D,icon_search:_,icon_AddressManage:T,icon_AddressSure:j,icon_shopCartEdit:R,icon_shopCartSave:F,icon_orderList:E,icon_choose:Y,icon_close:B,input_cancel:N,info_shop:L,icon_shopCart:V,initList:v,shopName:m,shopAbout:g,shopHeadImg:y,shopDescribe:b,shopInfo:{},shopCartCount:0},computed:{},methods:{titleHandle:function(t){var e=this,n=null,i=document.querySelector("title").innerHTML,o=i&&i.split(/-+/i).pop()||"";switch(t){case"nav":n=e.shopInfo.name,document.querySelector("title").innerHTML=n;break;case"customerService":n="福利商城--客服热线",document.querySelector("title").innerHTML=n;break;default:n=e.shopInfo.name+"--"+o,document.querySelector("title").innerHTML=n}}},beforeCreate:function(){var t=this;a.send(["PAGE_HEADER1_QUERY_NODE"],[]).done(function(e){t.title=e&&e.cont&&e.cont[0]&&e.cont[0].title||""})},created:function(){var e=this;a.send(z,[{},{platformSource:7}],!0).done(function(n){var i={},o=0;t["message-1-1"],z.length>1&&(i=n.USER_SHOPINFO_QUERY||{},o=n.ORDER_SHOPPINGCART_COUNT||0),1===z.length&&(s&&(i=n||{}),c&&(o=n||0)),e.shopInfo=i,e.shopCartCount=o,e.shopInfo.headImg=e.shopInfo.headImg||e.shopHeadImg,e.shopInfo.aboutus=e.shopInfo.aboutus||e.shopAbout,e.shopInfo.name=e.shopInfo.name||e.shopName,e.shopInfo.description=e.shopDescribe,e.titleHandle(u)}),e.shopInfo.headImg=e.shopInfo.headImg||e.shopHeadImg,e.shopInfo.aboutus=e.shopInfo.aboutus||e.shopAbout,e.shopInfo.name=e.shopInfo.name||e.shopName,e.shopInfo.description=e.shopDescribe,e.titleHandle(u)},mounted:function(){var e=this,n=$(e.$el);n.on("touchend",".header-left    .icon_scan",function(){var e=t["message-1-1"];i.weChat.browser()?wx?wx.ready(function(){wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(t){t&&t.resultStr&&(window.location.href=t.resultStr)}})}):e.refresh({confirmBtn:!1,content:"暂且无法使用扫一扫功能，敬请谅解！"}):e.refresh({confirmBtn:!1,content:"请在微信端进行操作！"})}),n.on("touchend",".header-left    .text_login",function(){l&&(window.location.href="/login.html?jumpUrl="+l),l||(window.location.href="/login.html")}),n.on("touchend",".header-left    .text_mpMall",function(){var t=o.userInfo.userId,e=o.userInfo.shopId,n=o.userInfo.authId,a=o.userInfo.openId,r=o.userInfo.isLogin,s=o.siteInfo.mDomainName;window.location.href=r?i.path.setParam(s,{userId:t,shopId:e,authId:n,openId:a}):i.path.setParam(s,{userId:"0",shopId:e,authId:"noToken",openId:a})}),n.on("touchend",".header-left    .icon_back",function(){i.url.jumpPage(p,-1,!0)}),n.on("touchend",".header-left    .icon_home",function(){window.location.href="/index.html"}),n.on("focus",".header-input    input",function(n){var i=[],o=n||window.event,a=$(o.currentTarget),r=a.parents(".header-input"),s=JSON.parse(window.localStorage.getItem("historyCache"))||[];r.addClass("isFocus"),$("html,body").animate({scrollTop:0}),$(document).find("#footer-1-1").css("display","none"),$(t["searchHistory-1-1"].$el).css({display:"block"}),$(t["searchHistory-1-1"].$el).animate({left:"0"},500),e.input=!0,e.input_search=!0,e.input_cancel=!0,e.icon_scan=!1,e.icon_news=!1,e.info_shop=!1,e.icon_back=!1,e.icon_home=!1,e.text_edit=!1,e.text_save=!1,e.icon_close=!1,e.title_shop=!1,e.title_text=!1,e.text_login=!1,e.text_manage=!1,e.text_choose=!1,e.icon_search=!1,e.icon_shopCart=!1,e.text_orderList=!1,$.each(s,function(t,e){i.push(e)}),t["searchHistory-1-1"].historyCache=i}),n.on("keyup",".header-input    input",function(){var t=n.find(".header-input input").val(),e=n.find(".header-input input").attr("placeholder");if(!t&&e&&(t=e),13===r.keyboard.keyboardCode)if(t.trim()){var i=[],o=JSON.parse(window.localStorage.getItem("historyCache"))||[];$.each(o,function(t,e){i.push(e.goodsName)});var a=$.inArray(t,i);-1!==a&&o.splice(a,1),o.unshift({goodsName:t}),o.splice(9,o.length-9),n.find(".header-input > input").blur(),window.localStorage.setItem("historyCache",JSON.stringify(o)),window.location.href=encodeURI("/searchProduct.html?goodsName="+t)}else window.location.href="/searchProduct.html?upShelves=1"}),n.on("touchend",".header-input   .i_clear",function(t){var e=t||window.event;$(e.currentTarget).parent().find("input").val("")}),n.on("touchend",".header-right   .input_cancel",function(){e.input=!1,e.input_search=!1,e.input_cancel=!1,$(t["searchHistory-1-1"].$el).animate({left:"101%"},500,function(){$(t["searchHistory-1-1"].$el).css({display:"none"})}),$.each(e.initList,function(t,n){e[t]=n}),$("body").css({position:"static",overflow:"visible"}),$(document).find("#footer-1-1").css("display","block"),n.find(".header-input").removeClass("isFocus"),n.find(".header-input input").blur()}),n.on("touchend",".header-right   .icon_search",function(){e.input=!0,e.$nextTick(function(){n.find(".header-input input").focus()})}),n.on("touchend",".header-right   .icon_close",function(){i.url.jumpPage(p,-1,!0)}),n.on("touchend",".header-right   .info_shop",function(){window.location.href=l?"/index.html?jumpUrl="+l:"/index.html"}),n.on("touchend",".header-right   .icon_shopCart",function(){window.location.href="/shoppingCart.html"}),n.on("touchend",".header-right   .icon_orderList",function(){window.location.href="/orderList.html?jumpUrl="+d}),n.on("touchend",".header-right   .icon_choose",function(){var e=t["discount-1-1"].type,n=t["discount-1-1"].orderInfo,o=t["discount-1-1"].supplierId,a=t["discount-1-1"].showDiscount,r=JSON.stringify(a||{}),s=window.localStorage.getItem("ordersInfo"),c=JSON.parse(s);c&&e&&o&&(c.typeObj[e][o]=n,s=JSON.stringify(c||{}),window.localStorage.removeItem("orderInfo"),window.localStorage.setItem("ordersInfo",s),window.localStorage.setItem("showDiscount",r),i.url.jumpPage(l,-1,!0))}),n.on("touchend",".header-right   .icon_news",function(){t["message-1-1"].refresh({confirmBtn:!1,content:"咨询功能暂未开放，敬请谅解！"})})}})),/^prompt-1-\d+$/.test(e)&&(t[e]=new Vue({el:n,data:{content:""},computed:{},methods:{},beforeCreate:function(){},created:function(){},mounted:function(){var t=this,e=$(t.$el).find(".body");parseFloat(e.css("width"))>720&&e.addClass("isMove")}})),/^footer-1-\d+$/.test(e)){var f=t["message-1-1"];t[e]=new Vue({el:n,data:{home:A,shoppingCart:U,personalCenter:H,goodsDetail:Q,isLogin:c,count:0},computed:{},methods:{},beforeCreate:function(){var t=this;c&&a.send("ORDER_SHOPPINGCART_COUNT",{platformSource:7}).done(function(e){e&&e.success&&(t.count=e.obj)})},created:function(){},mounted:function(){var e=this,n=$(e.$el);n.on("touchend",".footer-goodsDetail .icon_top",function(){$("html,body").animate({scrollTop:0},500)}),n.on("touchend",".footer-goodsDetail .icon_back",function(){var e=t["goodsDetail-1-1"];e&&(e.alertShow=!1,e.alertBgShow=!1,n.find(".footer-goodsDetail .icon_top").css("display","block"),n.find(".footer-goodsDetail .icon_back").css("display","none"),$("html,body").animate({scrollTop:0}))}),n.on("click",".footer-goodsDetail .text_toBuy",function(){var e=o.platform.rule.crossOrder.maxPrice,i=o.platform.rule.normalOrder.minPrice,a=t["goodsDetail-1-1"],r=a.alertShow;if(a&&!r)a.alertShow=!0,a.alertBgShow=!0,$("html,body").animate({scrollTop:0}),n.find(".footer-goodsDetail .icon_top").css("display","none"),n.find(".footer-goodsDetail .icon_back").css("display","block");else if(a){$("html,body").animate({scrollTop:0});var s={typeObj:{}},d=a.stock||0,l=a.quantity,p=a.minQuantity,h=(a.maxQuantity,$(a.$el).find("[itemContCode]").attr("itemContCode")||""),u=a.itemCont[h]||{};if(!c)return void f.refresh({content:"您尚未登录，是否先进行登录!",DOMClick:!1,cancelBtn:!0,confirmBtn:!0,cancelFun:function(){a.alertShow=!1,a.alertBgShow=!1,n.find(".footer-goodsDetail .icon_top").css("display","block"),n.find(".footer-goodsDetail .icon_back").css("display","none")},confirmFun:function(){window.location.href="/login.html?jumpUrl="+a.pathUrl}});if("itemHide"===h)return void f.refresh({confirmBtn:!1,content:"请选择完规格，再加入购物车！"});if("downShelf"===h)return void f.refresh({confirmBtn:!1,content:"该商品所选规格已下架, 无法购买下单！"});if(d<=0||d<p)return void f.refresh({confirmBtn:!1,content:"当前商品库存不足, 无法加入购物车中！"});var m=u.type,g=u.itemId,y=u.supplierId,b=u.supplierName,x=0===m?"跨境":2===m?"一般":1===m?"大贸":"";s.orderCount=1,s.typeObj[m]={},s.typeObj[m][y]={},s.typeObj[m][y].taxFee=0,s.typeObj[m][y].postFee=0,s.typeObj[m][y].exciseTaxFee=0,s.typeObj[m][y].incrementTaxFee=0,s.typeObj[m][y].type=m,s.typeObj[m][y].typeName=x,s.typeObj[m][y].supplierId=y,s.typeObj[m][y].supplierName=b,s.typeObj[m][y].supplierWeight=u.weight*l,s.typeObj[m][y].supplierPrice=u.price*l,s.typeObj[m][y].supplierVipPrice=u.vipPrice*l,s.typeObj[m][y].supplierRealPrice=u.realPrice*l,s.typeObj[m][y].supplierRealVipPrice=u.realVipPrice*l,s.typeObj[m][y].rakebackSupplierPrice=u.rakebackPrice*l,s.typeObj[m][y].rakebackSupplierVipPrice=u.rakebackVipPrice*l,s.typeObj[m][y].rakebackSupplierRealPrice=u.rakebackRealPrice*l,s.typeObj[m][y].rakebackSupplierRealVipPrice=u.rakebackRealVipPrice*l,s.typeObj[m][y].itemObj={},s.typeObj[m][y].itemObj[g]={},s.typeObj[m][y].itemObj[g].quantity=l,s.typeObj[m][y].itemObj[g].status=u.status,s.typeObj[m][y].itemObj[g].itemId=u.itemId,s.typeObj[m][y].itemObj[g].goodsId=u.goodsId,s.typeObj[m][y].itemObj[g].itemImg=u.goodsImg,s.typeObj[m][y].itemObj[g].itemCode=u.itemCode,s.typeObj[m][y].itemObj[g].goodsName=u.goodsName,s.typeObj[m][y].itemObj[g].firstCategory=u.firstCategory,s.typeObj[m][y].itemObj[g].secondCategory=u.secondCategory,s.typeObj[m][y].itemObj[g].thirdCategory=u.thirdCategory,s.typeObj[m][y].itemObj[g].picPath=u.picPath||u.goodsImg,s.typeObj[m][y].itemObj[g].exciseTax=u.exciseTax,s.typeObj[m][y].itemObj[g].incrementTax=u.incrementTax,s.typeObj[m][y].itemObj[g].priceList=u.priceList,s.typeObj[m][y].itemObj[g].tagList=u.tagList,s.typeObj[m][y].itemObj[g].tagFunId=u.tagFunId,s.typeObj[m][y].itemObj[g].preSaleName=u.preSaleName,s.typeObj[m][y].itemObj[g].preSaleDesc=u.preSaleDesc,s.typeObj[m][y].itemObj[g].type=u.type,s.typeObj[m][y].itemObj[g].href=u.href,s.typeObj[m][y].itemObj[g].freePost=u.freePost,s.typeObj[m][y].itemObj[g].freeTax=u.freeTax,s.typeObj[m][y].itemObj[g].sku=u.sku,s.typeObj[m][y].itemObj[g].info=u.info,s.typeObj[m][y].itemObj[g].stock=u.stock>=0?u.stock:0,s.typeObj[m][y].itemObj[g].weight=u.weight,s.typeObj[m][y].itemObj[g].price=u.price,s.typeObj[m][y].itemObj[g].vipPrice=u.vipPrice,s.typeObj[m][y].itemObj[g].realPrice=u.realPrice,s.typeObj[m][y].itemObj[g].realVipPrice=u.realVipPrice,s.typeObj[m][y].itemObj[g].rakebackPrice=u.rakebackPrice,s.typeObj[m][y].itemObj[g].rakebackVipPrice=u.rakebackVipPrice,s.typeObj[m][y].itemObj[g].rakebackRealPrice=u.rakebackRealPrice,s.typeObj[m][y].itemObj[g].rakebackRealVipPrice=u.rakebackRealVipPrice,s.typeObj[m][y].itemObj[g].minPrice=u.minPrice,s.typeObj[m][y].itemObj[g].maxPrice=u.maxPrice,s.typeObj[m][y].itemObj[g].vipMinPrice=u.vipMinPrice,s.typeObj[m][y].itemObj[g].vipMaxPrice=u.vipMaxPrice,s.typeObj[m][y].itemObj[g].realMinPrice=u.realMinPrice,s.typeObj[m][y].itemObj[g].realMaxPrice=u.realMaxPrice,s.typeObj[m][y].itemObj[g].realVipMinPrice=u.realVipMinPrice,s.typeObj[m][y].itemObj[g].realVipMaxPrice=u.realVipMaxPrice,1*u.type==2?u.rakebackRealPrice*l<i&&1*u.supplierId==6?f.refresh({confirmBtn:!1,content:"一般贸易商品订单需满"+i+"元才可下单！"}):window.location.href=encodeURI("/orderConfirm.html?jumpUrl="+a.pathUrl):1*u.type==0&&(u.rakebackRealPrice*l>e&&1*l>1?f.refresh({confirmBtn:!1,content:"跨境商品单笔订单价格不得超过"+e+"元！"}):window.location.href=encodeURI("/orderConfirm.html?jumpUrl="+a.pathUrl)),a.alertShow=!1,a.alertBgShow=!1,window.localStorage.setItem("showDiscount","{}"),window.localStorage.setItem("ordersInfo",JSON.stringify(s)),n.find(".footer-goodsDetail .icon_top").css("display","block"),n.find(".footer-goodsDetail .icon_back").css("display","none")}}),n.on("click",".footer-goodsDetail .text_addShopCart",function(){var e=t["header-1-1"],i=(t["footer-1-1"],t["goodsDetail-1-1"]),o=i.alertShow;if(i&&!o)i.alertShow=!0,i.alertBgShow=!0,$("html,body").animate({scrollTop:0}),n.find(".footer-goodsDetail .icon_top").css("display","none"),n.find(".footer-goodsDetail .icon_back").css("display","block");else if(i){$("html,body").animate({scrollTop:0});var r=i.stock||0,s=i.quantity,d=i.minQuantity,l=i.maxQuantity,p=$(i.$el).find("[itemContCode]").attr("itemContCode")||"",h=i.itemCont[p],u=function(t){var o=$(e.$el).find(".header-right .icon_shopCart"),r=$(i.$el).find(".goodsDetail-alert-body-msg-left a img"),s=r.clone();s.length&&(s.offset({top:r.offset().top+200,left:r.offset().left+350}).css({opacity:"0.5",position:"absolute",height:"150px",width:"150px","z-index":"99999999"}).appendTo($("body")).animate({top:o.offset().top+10,left:o.offset().left+10,width:50,height:50},1e3,"linear"),s.animate({width:0,height:0},function(){$(this).detach()})),a.send("ORDER_SHOPPINGCART_CREATE",{type:h.type,itemId:h.itemId,supplierId:h.supplierId,supplierName:h.supplierName,goodsName:h.goodsName,goodsImg:h.goodsImg,quantity:t,platformSource:7}).done(function(t){t&&t.success&&a.send("ORDER_SHOPPINGCART_COUNT",{platformSource:7}).done(function(t){t&&t.success&&(e.shopCartCount=t.obj||0,f.refresh({confirmBtn:!1,content:"添加成功"}))})}),i.alertShow=!1,i.alertBgShow=!1,n.find(".footer-goodsDetail .icon_top").css("display","block"),n.find(".footer-goodsDetail .icon_back").css("display","none")};if(!c)return void f.refresh({content:"您尚未登录，是否先登录！",DOMClick:!1,cancelBtn:!0,confirmBtn:!0,cancelFun:function(){i.alertShow=!1,i.alertBgShow=!1,n.find(".footer-goodsDetail .icon_top").css("display","block"),n.find(".footer-goodsDetail .icon_back").css("display","none")},confirmFun:function(){window.location.href="/login.html?jumpUrl="+i.pathUrl}});if("itemHide"===p)return void f.refresh({confirmBtn:!1,content:"请选择完规格，再加入购物车！"});if("downShelf"===p)return void f.refresh({confirmBtn:!1,content:"该商品所选规格已下架, 无法购买下单！"});if(r<=0||r<d)return void f.refresh({confirmBtn:!1,content:"当前商品库存不足, 无法加入购物车中！"});a.send("ORDER_SHOPPINGCART_COUNT_ID",{itemId:h.itemId,platformSource:7}).done(function(t){if(t&&t.success){var e=t.obj||0;if(e>=l)f.refresh({content:"当前该商品在购物车中的数量已达到最大购买量, 无法继续加入购物车中！",confirmFun:function(){i.alertShow=!1,i.alertBgShow=!1,n.find(".footer-goodsDetail .icon_top").css("display","block"),n.find(".footer-goodsDetail .icon_back").css("display","none")}});else if(s+e>l){var o=l-e;f.refresh({content:"该商品可允许最大购买量为:"+l+"件; 目前在购物车中已有:"+e+"件, 最多可往购物车中加入"+o+"件! 是否继续？",DOMClick:!1,cancelBtn:!0,confirmBtn:!0,cancelFun:function(){i.alertShow=!1,i.alertBgShow=!1,n.find(".footer-goodsDetail .icon_top").css("display","block"),n.find(".footer-goodsDetail .icon_back").css("display","none")},confirmFun:function(){u(o)}})}else u(s)}})}})}})}if(/^scrollTop-1-\d+$/.test(e)&&(t[e]=new Vue({el:n,data:{show:!1},computed:{},methods:{},beforeCreate:function(){},created:function(){},mounted:function(){
var t=this,e=$(t.$el);t.show=$(window).scrollTop()>=1500,$(window).on("scroll",function(){t.show=$(window).scrollTop()>=1500}),e.on("touchend",".scrollTop-1-content .scrollTop",function(){$("html,body").animate({scrollTop:0},500)})}})),/^searchHistory-1-\d+$/.test(e)&&(t[e]=new Vue({el:n,data:{hotSearchList:[],historyCache:window.localStorage.getItem("historyCache")||[]},computed:{},methods:{},beforeCreate:function(){},created:function(){},mounted:function(){var e=this,n=$(e.$el),i=t["message-1-1"];n.on("touchend",".searchHistory-1-content li",function(t){var e=t||window.event,n=$(e.target||e.srcElement),i=n.text()&&n.text().trim()||"",o=n.attr("firstId")&&n.attr("firstId").trim()||"",a=n.attr("secondId")&&n.attr("secondId").trim()||"",s=n.attr("thirdId")&&n.attr("thirdId").trim()||"";if(!r.touch.touchIsMoved){var c=[],d=JSON.parse(window.localStorage.getItem("historyCache"))||[];$.each(d,function(t,e){c.push(e.goodsName)});var l=$.inArray(i,c);-1!==l&&d.splice(l,1),d.unshift({goodsName:i,firstId:o,secondId:a,thirdId:s}),d.splice(9,d.length-9),window.localStorage.setItem("historyCache",JSON.stringify(d)),window.location.href=encodeURI("/searchProduct.html?goodsName="+i+"&firstCategory="+o+"&secondCategory="+a+"&thirdCategory="+s)}}),n.on("touchend",".searchHistory-1-content .icon_delete ",function(){i.refresh({content:"是否清除所有搜索内容？",DOMClick:!1,cancelBtn:!0,confirmBtn:!0,cancelFun:function(){},confirmFun:function(){window.localStorage.setItem("historyCache",JSON.stringify([])),e.historyCache=[]}})})}})),/^goodsDetail-1-\d+$/.test(e)){var f=(t["header-1-1"],t["message-1-1"]);a.send("GOODS_ID_QUERY_NODE",{goodsId:w}).done(function(o){var r={},s=o&&o.cont||{};$.each(s.goodsSpecsList,function(t,e){var n=e.itemId;r[w]=r[w]||{},r[w][n]={}}),t[e]=new Vue({el:n,data:{pathUrl:d,alertBgShow:!1,alertShow:!1,isFreePost:null,status:null,stock:0,quantity:1,minQuantity:0,maxQuantity:1/0,spcExciseTax:0,spcIncrementTax:0,spcCarton:"",spcPrice:"0.00",spcVipPrice:"0.00",spcRealPrice:"0.00",spcRealVipPrice:"0.00",rakebackSpcPrice:"0.00",rakebackSpcVipPrice:"0.00",rakebackSpcRealPrice:"0.00",rakebackSpcRealVipPrice:"0.00",itemContCode:"itemHide",quantityTimer:null,quantityDes:"",couponList:[],objArr:[],goodsMap:r,gradeInfo:{},mdData:$.extend(!0,{},o&&o.cont||{})},computed:{},methods:{getItemObj:function(t,e,n,i){var o,a=this,r=0,s=[],c={},d=a.codeArr,l=a.itemCont,p=a.objArr=[],h=$.extend(!0,{},a.itemKey);return $.each(h||{},function(e){t[e]||(t[e]="[^;]*")}),$.each(t||{},function(t,e){var n=$.inArray(t,d);-1!==n&&(s[n]=e)}),o=new RegExp("^"+s.join(";")+"$",""),$.each(l,function(e,n){o.test(e)&&(p.push(l[e]),a.itemContCode=e,a.itemContTagList=n.tagList,a.itemContTag={preSaleName:n.preSaleName,preSaleDesc:n.preSaleDesc},a.stock=n.stock>0?n.stock:0,a.status=n.status,r++),$.each(t,function(n){var i,o=[],r=$.extend(!0,{},t);$.each(r||{},function(t,e){var i=$.inArray(t,d);n===t&&(o[i]="[^;]*"),n!==t&&-1!==i&&(o[i]=e)}),i=new RegExp("^"+o.join(";")+"$",""),i.test(e)&&$.each(e.split(";"),function(t,e){if(e){var i=a.codeArr[t];i===n&&(c[i]=c[i]||[],-1===$.inArray(e,c[i])&&c[i].push(e))}})})}),$.each(c,function(t,e){$.each(e,function(e,n){var i=$.inArray(n,h[t]);-1!==i&&h[t].splice(i,1)})}),1!==r?(a.stock=1/0,a.itemContTagList=[],a.itemContCode="itemHide",a.itemContTag=null):0===a.status?(a.itemContCode="downShelf",f.refresh({confirmBtn:!1,content:"该商品所选规格已下架, 请选择其他规格！"})):a.stock<=0&&(a.itemContCode="noStock"),a.setItemCont(e,n,i),h},setItemCont:function(t,e,n){var i=this,o=[],a=[],r=[],s=[],c=[],d=[],l=[],p=[],f=[],h=[],u=[],m=[];$.each(i.objArr,function(g,y){var b=0,x=0,w=i.quantity,v=i.getNumRegion(y.priceList),P=v.minQuantity,I=v.maxQuantity;f.push(P),h.push(I),i.minQuantity=P,i.maxQuantity=I,"itemHide"!==i.itemContCode&&(w=w>I?I:w,w=w<P?P:w,w=w>y.stock?y.stock:w,w=w>0?w:1,i.spcCarton=y.carton,i.quantity=w);var M=i.getPriceList(y.priceList,w);y.realVipPrice=M.realVipPrice,y.realPrice=M.realPrice,y.vipPrice=M.vipPrice,y.price=M.price,o.push(M.price),a.push(M.vipPrice),r.push(M.realPrice),s.push(M.realVipPrice),u.push(y.incrementTax),m.push(y.exciseTax),f.push(P),h.push(I),"rakeback"===t&&(x=e.welfareRebate||0,b=n&&n[y.goodsId]||{},b=b&&b[y.itemId]||{},b=b[e.gradeType]||0,y.rakebackRealVipPrice=M.realVipPrice*(1-b*(1-x)),y.rakebackRealPrice=M.realPrice*(1-b*(1-x)),y.rakebackVipPrice=M.vipPrice*(1-b*(1-x)),y.rakebackPrice=M.price*(1-b*(1-x)),c.push(M.price*(1-b*(1-x))),d.push(M.vipPrice*(1-b*(1-x))),l.push(M.realPrice*(1-b*(1-x))),p.push(M.realVipPrice*(1-b*(1-x))))}),0===o.length&&(o[0]=null),0===a.length&&(o[0]=null),0===r.length&&(o[0]=null),0===s.length&&(o[0]=null),0===f.length&&(f[0]=0),0===h.length&&(h[0]=1/0),0===u.length&&(u[0]=0),0===m.length&&(m[0]=0);var g=Math.min.apply(Math,f),y=Math.max.apply(Math,h),b=100*Math.min.apply(Math,m),x=100*Math.max.apply(Math,m),w=100*Math.min.apply(Math,u),v=100*Math.max.apply(Math,u),P=Math.min.apply(Math,o),I=Math.max.apply(Math,o),M=Math.min.apply(Math,a),k=Math.max.apply(Math,a),O=Math.min.apply(Math,r),C=Math.max.apply(Math,r),S=Math.min.apply(Math,s),D=Math.max.apply(Math,s);if(P=(P!==1/0?P:0).toFixed(2),I=(I!==-1/0?I:0).toFixed(2),M=(M!==1/0?M:0).toFixed(2),k=(k!==-1/0?k:0).toFixed(2),O=(O!==1/0?O:0).toFixed(2),C=(C!==-1/0?C:0).toFixed(2),S=(S!==1/0?S:0).toFixed(2),D=(D!==-1/0?D:0).toFixed(2),i.spcPrice=P===I?P:P+"~"+I,i.spcVipPrice=M===k?M:M+"~"+k,i.spcRealPrice=O===C?O:O+"~"+C,i.spcRealVipPrice=S===D?S:S+"~"+D,i.spcExciseTax=b===x?b:b+"~"+x,i.spcIncrementTax=w===v?w:w+"~"+v,i.quantityDes=g&&y&&g!==-1/0&&y!==1/0?"当前允许购买量为: "+g+"~"+y:g&&g!==-1/0?"当前最小购买量为: "+g:y&&y!==1/0?"当前最大购买量为: "+y:"","rakeback"===t){0===c.length&&(c[0]=null),0===d.length&&(d[0]=null),0===l.length&&(l[0]=null),0===p.length&&(p[0]=null);var _=Math.min.apply(Math,c),T=Math.max.apply(Math,c),j=Math.min.apply(Math,d),R=Math.max.apply(Math,d),F=Math.min.apply(Math,l),E=Math.max.apply(Math,l),Y=Math.min.apply(Math,p),B=Math.max.apply(Math,p);_=(_!==1/0?_:0).toFixed(2),T=(T!==-1/0?T:0).toFixed(2),j=(j!==1/0?j:0).toFixed(2),R=(R!==-1/0?R:0).toFixed(2),F=(F!==1/0?F:0).toFixed(2),E=(E!==-1/0?E:0).toFixed(2),Y=(Y!==1/0?Y:0).toFixed(2),B=(B!==-1/0?B:0).toFixed(2),i.rakebackMinPrice=_,i.rakebackMaxPrice=T,i.rakebackMinVipPrice=j,i.rakebackMaxVipPrice=R,i.rakebackMinRealPrice=F,i.rakebackMaxRealPrice=E,i.rakebackMinRealVipPrice=Y,i.rakebackMaxRealVipPrice=B,i.rakebackSpcPrice=_===T?_:_+"~"+T,i.rakebackSpcVipPrice=j===R?j:j+"~"+R,i.rakebackSpcRealPrice=F===E?F:F+"~"+E,i.rakebackSpcRealVipPrice=Y===B?Y:Y+"~"+B}},getNumRegion:function(t){var e={},n=[],i=[],o=!1;return $.each(t,function(t,e){var a=1*e.min?1*e.min:0,r=1*e.max?1*e.max:1/0;n.push(r),i.push(a),o=!0}),o?(e.minQuantity=Math.min.apply(Math,i),e.maxQuantity=Math.max.apply(Math,n),e):{minQuantity:0,maxQuantity:1/0}},getPriceList:function(t,e){var n={},i={},o=[],a=[],r=[],s=[],c=[],d=[],l=[],p=!1;return $.each(t,function(t,e){var n=e.min?e.min:0,i=e.max?e.max:1/0,f=e.price||0===e.price?(1*e.price).toFixed(2):null,h=e.vipPrice||0===e.vipPrice?(1*e.vipPrice).toFixed(2):null,u=f?e.discount?(e.price*e.discount/10).toFixed(2):(1*e.price).toFixed(2):null,m=h?e.discount?(e.vipPrice*e.discount/10).toFixed(2):(1*e.vipPrice).toFixed(2):null;o.push({prices:{price:f,vipPrice:h,realPrice:u,realVipPrice:m},min:n,max:i}),r.push(n),a.push(i),s.push(f),c.push(h),d.push(u),l.push(m),p=!0}),p?(i.min=Math.min.apply(Math,r),i.max=Math.max.apply(Math,a),i.minPrice=Math.min.apply(Math,s),i.vipMinPrice=Math.min.apply(Math,c),i.realMinPrice=Math.min.apply(Math,d),i.realVipMinPrice=Math.min.apply(Math,l),i.maxPrice=Math.max.apply(Math,s),i.vipMaxPrice=Math.max.apply(Math,c),i.realMaxPrice=Math.max.apply(Math,d),i.realVipMaxPrice=Math.max.apply(Math,l),e<i.min?{price:i.maxPrice,vipPrice:i.vipMaxPrice,realPrice:i.realMaxPrice,realVipPrice:i.realVipMaxPrice}:e>i.max?{price:i.minPrice,vipPrice:i.vipMinPrice,realPrice:i.realMinPrice,realVipPrice:i.realVipMinPrice}:($.each(o,function(t,i){if(e>=i.min&&e<=i.max)return n={price:i.prices.price,vipPrice:i.prices.vipPrice,realPrice:i.prices.realPrice,realVipPrice:i.prices.realVipPrice},!1}),n)):{price:null,vipPrice:null,realPrice:null,realVipPrice:null}},imgSrc:function(t){var e="";switch(t){case 0:e="/images/platform/tag/icon_cross_big.png";break;case 2:e="/images/platform/tag/icon_normal_big.png"}return e},imgType:function(t){var e="";switch(t){case 0:e=!0;break;case 2:e=!1}return e},getTags:function(t){var e=[];return $.each(t||[],function(t,n){switch(n.tagName){case"必选":-1===$.inArray("icon_tag1",e)&&e.push("icon_tag1");break;case"爆款":-1===$.inArray("icon_tag2",e)&&e.push("icon_tag2");break;case"热销":-1===$.inArray("icon_tag3",e)&&e.push("icon_tag3");break;case"优选":-1===$.inArray("icon_tag4",e)&&e.push("icon_tag4")}}),e},returnMsg:function(t,e){var n="",i=this,o=this.mdData.freeTax,a=this.mdData.freePost;switch(o){case 0:n+="<li>消费税率：<span>"+t+"%</span></li><li>增值税率：<span>"+e+"%</span></li>";break;case 1:n+="<li>消费税率：<span>包税</span></li>"}switch(a){case 0:n+="";break;case 1:n+="<li>配送方式：<span>包邮</span></li>";break;case 2:n+="<li>配送方式：<span>"+(i.isFreePost?"包邮":"邮费到付")+"</span></li>"}return n},returnSupplierName:function(){var t="";switch(this.mdData.supplierName){case"天天仓":t="保税TT仓";break;case"粮油仓":t="保税LY仓";break;case"行云仓":t="保税XY仓";break;case"富邦仓":t="保税FB仓";break;default:t=this.mdData.supplierName}return t},classifyTouchend:function(t){var e=this,n={},o=t||window.event,a=$(o.currentTarget);if(!a.hasClass("lose")){var r=a.parents(".classifyGroup");a.toggleClass("active").siblings().removeClass("active"),r.find(".classify").removeClass("lose"),r.find(".classify.active").each(function(){var t=$(this).attr("data-name")||"",e=$(this).attr("data-val")||"";n[t]=e}),$.each(e.getItemObj(n),function(t,e){$.each(e,function(e,n){r.find("[data-name='"+t+"'][data-val='"+n+"']").addClass("lose")})}),$.each(e.getItemObj(n,"rakeback",e.gradeInfo||{},e.goodsMap),function(t,e){$.each(e,function(e,n){r.find("[data-name='"+t+"'][data-val='"+n+"']").addClass("lose")})})}if("itemHide"!==e.itemContCode){var s=this.objArr[0].itemId;s&&i.url.setParam({itemId:s},"cover"),s&&(e.pathUrl=i.path.setParam(e.pathUrl,{itemId:s}))}},inputInput:function(){var t=this,e=$(this.$el),n=t.stock||0,i=t.minQuantity,o=t.maxQuantity,a=e.find("[itemContCode]").attr("itemContCode"),r=/\D/.test(t.quantity)?t.quantity.replace(/\D/g,""):t.quantity;clearTimeout(t.quantityTimer),t.quantityTimer=setTimeout(function(){r=1*r>0?1*r:1,"itemHide"!==a&&(n<=0||r<=n&&i&&n<i?f.refresh({cancelBtn:!1,confirmBtn:!1,content:"当前商品库存不足！",timeOutFun:function(){r=(o||0===o)&&r>o?o:r,r=(i||0===i)&&r<i?i:r,r=r>n?n:r,t.quantity=1*r>0?1*r:1,t.setItemCont()}}):r>n?f.refresh({cancelBtn:!1,confirmBtn:!1,content:"当前数量大于库存可用量！",timeOutFun:function(){r=(o||0===o)&&r>o?o:r,r=(i||0===i)&&r<i?i:r,r=r>n?n:r,t.quantity=1*r>0?1*r:1,t.setItemCont()}}):o&&r>o?f.refresh({cancelBtn:!1,confirmBtn:!1,content:"当前数量已大于最大购买量！",timeOutFun:function(){r=(o||0===o)&&r>o?o:r,r=(i||0===i)&&r<i?i:r,r=r>n?n:r,t.quantity=1*r>0?1*r:1,t.setItemCont()}}):i&&r<i&&f.refresh({cancelBtn:!1,confirmBtn:!1,content:"当前数量已低于最小购买量！",timeOutFun:function(){r=(o||0===o)&&r>o?o:r,r=(i||0===i)&&r<i?i:r,r=r>n?n:r,t.quantity=1*r>0?1*r:1,t.setItemCont()}}))},650)},inputBlur:function(){var t=this,e=$(this.$el),n=t.stock||0,i=t.minQuantity,o=t.maxQuantity,a=e.find("[itemContCode]").attr("itemContCode"),r=/\D/.test(t.quantity)?t.quantity.replace(/\D/g,""):t.quantity;"itemHide"!==a&&(r=(o||0===o)&&r>o?o:r,r=(i||0===i)&&r<i?i:r,r=r>n?n:r),t.quantity=1*r>0?1*r:1,t.setItemCont()},quantityTouchend:function(t){var e=this,n=t||window.event,i=$(this.$el),o=$(n.currentTarget),a=i.find("[itemContCode]").attr("itemContCode"),r=e.stock||0,s=e.quantity,c=(e.quantity,e.minQuantity),d=e.maxQuantity;o.hasClass("btn_plus")&&(s=1*s+1,s=1*s>0?1*s:1),o.hasClass("btn_minus")&&(s=1*s-1,s=1*s>0?1*s:1),"itemHide"!==a&&(r<=0||s<=r&&c&&r<c?f.refresh({cancelBtn:!1,confirmBtn:!1,content:"当前商品库存不足！"}):s>r?f.refresh({cancelBtn:!1,confirmBtn:!1,content:"当前数量已是库存可用量！"}):d&&s>d?f.refresh({cancelBtn:!1,confirmBtn:!1,content:"当前数量已是最大购买量！"}):c&&s<c&&f.refresh({cancelBtn:!1,confirmBtn:!1,content:"当前数量已是最小购买量！"}),s=(d||0===d)&&s>d?d:s,s=(c||0===c)&&s<c?c:s,s=s>r?r:s,e.quantity=1*s>0?1*s:1,e.setItemCont())}},beforeCreate:function(){var t=this;a.send(["GOODS_STOCK_QUERY","GRADE_GRADEBO_QUERY_REDIS","GOODS_REBATE_QUERY_REDIS"],[{goodsId:w},{},r],!0).done(function(e){var n=e.GOODS_STOCK_QUERY||[],i=e.GRADE_GRADEBO_QUERY_REDIS||{},o=e.GOODS_REBATE_QUERY_REDIS||o;t.gradeInfo=i,t.goodsMap=o,$.each(t.itemCont,function(t,e){$.each(n,function(t,n){e.itemId===n.itemId&&(e.stock=n.stock)})}),x?t.getItemObj(t.itemIdMap[x]||{},"rakeback",i||{},o):t.getItemObj({},"rakeback",i||{},o)})},beforeMount:function(){x?this.getItemObj(this.itemIdMap[x]||{}):this.getItemObj({})},created:function(){var t=this,e="",n="",i=0,o=[],a={},r={},s={};$.each(t.mdData.goodsSpecsList,function(e,n){var c={},d=[],l="";c.infoObj=JSON.parse(n.info||"{}"),c.goodsId=t.mdData.goodsId,c.goodsName=t.mdData.customGoodsName,c.firstCategory=t.mdData.firstCategory,c.secondCategory=t.mdData.secondCategory,c.thirdCategory=t.mdData.thirdCategory,c.supplierId=t.mdData.supplierId,c.supplierName=t.mdData.supplierName,c.goodsFileObj=$.isArray(t.mdData.goodsFileList)&&t.mdData.goodsFileList[0],c.goodsImg=c.goodsFileObj&&c.goodsFileObj.path||"",c.type=t.mdData.type,c.href=t.mdData.href,c.freePost=t.mdData.freePost,c.freeTax=t.mdData.freeTax,c.info=n.info,c.carton=n.carton,c.itemId=n.itemId,c.itemCode=n.itemCode,c.status=n.status,c.minPrice=n.minPrice,c.maxPrice=n.maxPrice,c.vipMinPrice=n.vipMinPrice,c.vipMaxPrice=n.vipMaxPrice,c.realMinPrice=n.realMinPrice,c.realMaxPrice=n.realMaxPrice,c.realVipMinPrice=n.realVipMinPrice,c.realVipMaxPrice=n.realVipMaxPrice,c.incrementTax=t.mdData.incrementTax,c.exciseTax=n.exciseTax,c.priceList=n.priceList,c.weight=n.weight,c.stock=n.stock>0?n.stock:0,c.sku=n.sku,c.tagList=[],$.each(n.tagList||[],function(e,n){"预售"===n.tagName&&(c.tagFunId=n.tagFunId,c.preSaleName=n.tagName,c.preSaleDesc=n.description),"一般贸易(包邮)"===n.tagName&&(t.isFreePost=!0),c.tagList.push(n)}),$.each(c.infoObj,function(t,e){-1===$.inArray(e,a[t])&&(a[t]=a[t]||[],l=e.replace(";",""),a[t].push(e.replace(";",""))),-1===$.inArray(t,o)&&o.push(t);var n=$.inArray(t,o);d[n]=e});var p=d.join(";");r[p]=c,s[c.itemId]=c.infoObj,i++}),t.length=i,t.codeArr=o,t.itemKey=a,t.itemCont=r,t.itemIdMap=s,$.each(t.mdData.couponList||[],function(i,o){e=o.name.split("/")[0],n=o.name.split("/")[1],n=void 0!==n?n.trim():"",t.couponList[i]={type:n,name:e,couponId:o.couponId,receiveStatus:o.receiveStatus}}),($.isEmptyObject(t.mdData)||0===t.mdData.status)&&f.refresh({content:"该商品已下架，请重新选择商品！",confirmBtn:!1,timeOutFun:function(){window.history.go(-1)}})},mounted:function(){var t=this,e=$(t.$el),n=e.find(".classifyGroup");/\.html$|\.htm$/i.test(t.mdData.detailPath)&&$(t.$el).find(".detailMsgContent").load(t.mdData.detailPath),$.each(x&&t.itemIdMap[x]||[],function(t,e){n.find("[data-name='"+t+"'][data-val='"+e+"']").addClass("active")}),e.find(".banner-bannerImg").roller({time:5e3,loop:e.find(".bannerImg_li").length>0,eVisual:e.find(".banner-bannerImg > ul"),eRoller:e.find(".bannerImg_li"),beRollFunc:function(t,n){var i=t.$eRoller.eq(n-1).attr("rollId");e.find(".banner-carousel-text .index").text(i)},edRollFunc:function(t){}}),e.on("touchend",".goodsDetail-discount .btn_lookDetail",function(t){var e=t||window.event,n=$(e.target||e.srcElement),i=n.parents(".goodsDetail-discount");i.hasClass("close")?(n.text("关闭"),i.removeClass("close")):(n.text("展开"),i.addClass("close"))}),e.on("touchend",".goodsDetail-discount .btn_needReceive",function(t){var e=t||window.event,n=$(e.target||e.srcElement),i=n.parents("li[couponId]"),o=i.attr("couponId");c?o?a.send("COUPON_RECEIVE",{couponId:o}).done(function(t){t.success?(f.refresh({content:"领取成功！",confirmBtn:!1}),n.removeClass("btn btn_needReceive"),n.addClass("received"),n.text("已领取")):f.refresh({content:t&&t.errorMsg||"领取失败！",confirmBtn:!1})}).fail(function(){f.refresh({content:"领取失败！",confirmBtn:!1})}):f.refresh({confirmBtn:!1,content:"未获取到该优惠券编号"}):f.refresh({content:"您尚未登录，请先登录！",confirmFun:function(){window.location.href="/login.html?jumpUrl="+d}})})}})})}/^customerService-1-\d+$/.test(e)&&(t[e]=new Vue({el:n,data:{QQ:h.qq,name:h.name,address:h.address,emailBox:h.emailBox,telephone:h.telephone,isCall:!0},methods:{callTelephone:function(){var e=this,n=new Date,i=n.getDay(),o=n.getHours(),a=0===i||6===i,r=o<9||o>17,s=t["message-1-1"];a||r?(s.refresh({content:"客服在线时间为周一至周五9:00 - 18:00，敬请谅解！",confirmBtn:!1}),e.isCall=!1):e.isCall=!0}},created:function(){},mounted:function(){}}))})},window.app.getModule=function(e){return"string"==typeof e&&e.trim()?t[e]:t}}();